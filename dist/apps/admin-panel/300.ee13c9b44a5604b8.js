"use strict";(self.webpackChunkadmin_panel=self.webpackChunkadmin_panel||[]).push([[300],{8300:(B,z,r)=>{r.r(z),r.d(z,{ManagementCarsModule:()=>H});var p=r(9826),c=r(655),s=r(7157),M=r(4004),m=r(3905),t=r(5e3),T=r(8900),h=r(9827),_=r(1740),x=r(4138),v=r(5540),A=r(7036),L=r(9997),g=r(9808),u=r(7336),y=r(4686),b=r(8177),C=r(3075),Q=r(1062);function J(e,i){if(1&e&&(t.TgZ(0,"div",14),t.TgZ(1,"div",15),t._uU(2),t.qZA(),t.qZA()),2&e){const n=t.oxw().$implicit;t.xp6(2),t.hij(" ",n.name," ")}}function O(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"input",16),t.NdJ("ngModelChange",function(o){return t.CHM(n),t.oxw().$implicit.name=o})("keyup.enter",function(){t.CHM(n);const o=t.oxw().$implicit;return t.oxw(2).onSubmitEditModel(o.id,o.name)}),t.qZA()}if(2&e){const n=t.oxw().$implicit;t.Q6J("ngModel",n.name)}}function q(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"tr",10),t.NdJ("click",function(o){const d=t.CHM(n).$implicit;return t.oxw(2).startEdit(d.id,o)}),t.TgZ(1,"td"),t.YNc(2,J,3,1,"div",11),t.YNc(3,O,1,1,"ng-template",null,12,t.W1O),t.qZA(),t.TgZ(5,"td"),t.TgZ(6,"a",13),t.NdJ("nzOnConfirm",function(){const l=t.CHM(n).$implicit;return t.oxw(2).onDeleteModel(l.id)}),t.ALo(7,"translate"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.qZA(),t.qZA()}if(2&e){const n=i.$implicit,a=t.MAs(4),o=t.oxw(2);t.xp6(2),t.Q6J("ngIf",o.editId!==n.id)("ngIfElse",a),t.xp6(4),t.s9C("nzPopconfirmTitle",t.lcZ(7,4,"message.areYouSure")),t.xp6(2),t.Oqu(t.lcZ(9,6,"profile.delete"))}}function G(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"nz-table",6,7),t.NdJ("nzQueryParams",function(){return t.CHM(n),t.oxw().tableService.onTableQueryParamsChange}),t.TgZ(2,"thead"),t.TgZ(3,"tr"),t.TgZ(4,"th",8),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"th"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(10,"tbody"),t.YNc(11,q,10,8,"tr",9),t.qZA(),t.qZA()}if(2&e){const n=i.ngIf,a=t.MAs(1);t.Q6J("nzFrontPagination",!1)("nzData",n),t.xp6(5),t.Oqu(t.lcZ(6,5,"profile.name")),t.xp6(3),t.Oqu(t.lcZ(9,7,"profile.actions")),t.xp6(3),t.Q6J("ngForOf",a.data)}}function F(e,i){if(1&e&&(t.TgZ(0,"div",14),t.TgZ(1,"div",15),t._uU(2),t.qZA(),t.qZA()),2&e){const n=t.oxw().$implicit;t.xp6(2),t.hij(" ",n.name," ")}}function I(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"input",16),t.NdJ("ngModelChange",function(o){return t.CHM(n),t.oxw().$implicit.name=o})("keyup.enter",function(){t.CHM(n);const o=t.oxw().$implicit;return t.oxw(2).onSubmitEditColor(o.id,o.name)}),t.qZA()}if(2&e){const n=t.oxw().$implicit;t.Q6J("ngModel",n.name)}}function Y(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"tr",10),t.NdJ("click",function(o){const d=t.CHM(n).$implicit;return t.oxw(2).startEditColor(d.id,o)}),t.TgZ(1,"td"),t.YNc(2,F,3,1,"div",11),t.YNc(3,I,1,1,"ng-template",null,12,t.W1O),t.qZA(),t.TgZ(5,"td"),t.TgZ(6,"a",13),t.NdJ("nzOnConfirm",function(){const l=t.CHM(n).$implicit;return t.oxw(2).onDeleteColor(l.id)}),t.ALo(7,"translate"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.qZA(),t.qZA()}if(2&e){const n=i.$implicit,a=t.MAs(4),o=t.oxw(2);t.xp6(2),t.Q6J("ngIf",o.editColorId!==n.id)("ngIfElse",a),t.xp6(4),t.s9C("nzPopconfirmTitle",t.lcZ(7,4,"message.areYouSure")),t.xp6(2),t.Oqu(t.lcZ(9,6,"profile.delete"))}}function N(e,i){if(1&e&&(t.TgZ(0,"nz-table",17,18),t.TgZ(2,"thead"),t.TgZ(3,"tr"),t.TgZ(4,"th",8),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"th"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(10,"tbody"),t.YNc(11,Y,10,8,"tr",9),t.qZA(),t.qZA()),2&e){const n=i.ngIf,a=t.MAs(1);t.Q6J("nzData",n),t.xp6(5),t.Oqu(t.lcZ(6,4,"profile.name")),t.xp6(3),t.Oqu(t.lcZ(9,6,"profile.actions")),t.xp6(3),t.Q6J("ngForOf",a.data)}}let E=(()=>{class e{constructor(n,a,o,l,d,f,U,D,w){this.route=n,this.routerHelper=a,this.tableService=o,this.deleteCarModelGQL=l,this.deleteCarColorGQL=d,this.updateCarModelGQL=f,this.updateCarColorGQL=U,this.createCarModelGQL=D,this.createCarColorGQL=w}ngOnInit(){this.query=this.route.data.pipe((0,M.U)(n=>n.cars))}startEdit(n,a){a.preventDefault(),a.stopPropagation(),this.editId=n}onSubmitEditModel(n,a){return(0,c.mG)(this,void 0,void 0,function*(){yield(0,m.z)(this.updateCarModelGQL.mutate({id:n,input:{name:a}})),this.editId=void 0})}onAddModel(){return(0,c.mG)(this,void 0,void 0,function*(){yield(0,m.z)(this.createCarModelGQL.mutate({input:{name:""}})),this.routerHelper.refresh(this.route)})}onDeleteModel(n){return(0,c.mG)(this,void 0,void 0,function*(){yield(0,m.z)(this.deleteCarModelGQL.mutate({id:n})),this.routerHelper.refresh(this.route)})}startEditColor(n,a){a.preventDefault(),a.stopPropagation(),this.editColorId=n}onSubmitEditColor(n,a){return(0,c.mG)(this,void 0,void 0,function*(){yield(0,m.z)(this.updateCarColorGQL.mutate({id:n,input:{name:a}})),this.editColorId=void 0})}onAddColor(){return(0,c.mG)(this,void 0,void 0,function*(){yield(0,m.z)(this.createCarColorGQL.mutate({input:{name:""}})),this.routerHelper.refresh(this.route)})}onDeleteColor(n){return(0,c.mG)(this,void 0,void 0,function*(){yield(0,m.z)(this.deleteCarColorGQL.mutate({id:n})),this.routerHelper.refresh(this.route)})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(p.gz),t.Y36(T.b),t.Y36(h.w),t.Y36(s.E2S),t.Y36(s.Rsx),t.Y36(s.Ol1),t.Y36(s.ifc),t.Y36(s.eDJ),t.Y36(s.h0b))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-management-cars-list"]],decls:15,vars:13,consts:[["nzBackIcon","","nzTitle","Cars","nzSubtitle","Basic car info definitions",3,"nzGhost"],["nz-button","","nzType","primary",3,"click"],["nz-icon","","nzType","plus"],["nzShowSizeChanger","","nzBordered","","nzTitle","Models",3,"nzFrontPagination","nzData","nzQueryParams",4,"ngIf"],["nz-button","","nzType","primary",1,"float-right","mb-2",3,"click"],["nzBordered","","nzTitle","Colors",3,"nzData",4,"ngIf"],["nzShowSizeChanger","","nzBordered","","nzTitle","Models",3,"nzFrontPagination","nzData","nzQueryParams"],["ajaxTable",""],["nzWidth","80%"],["class","editable-row",3,"click",4,"ngFor","ngForOf"],[1,"editable-row",3,"click"],["class","editable-cell",4,"ngIf","ngIfElse"],["editTpl",""],["nz-popconfirm","",3,"nzPopconfirmTitle","nzOnConfirm"],[1,"editable-cell"],[1,"editable-cell-value-wrap"],["nz-input","",3,"ngModel","ngModelChange","keyup.enter"],["nzBordered","","nzTitle","Colors",3,"nzData"],["colorTable",""]],template:function(n,a){if(1&n&&(t.TgZ(0,"nz-page-header",0),t.TgZ(1,"nz-page-header-extra"),t.TgZ(2,"button",1),t.NdJ("click",function(){return a.onAddModel()}),t._UZ(3,"i",2),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.qZA(),t.TgZ(6,"nz-page-header-content"),t.YNc(7,G,12,9,"nz-table",3),t.ALo(8,"async"),t.TgZ(9,"button",4),t.NdJ("click",function(){return a.onAddColor()}),t._UZ(10,"i",2),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.YNc(13,N,12,8,"nz-table",5),t.ALo(14,"async"),t.qZA(),t.qZA()),2&n){let o,l;t.Q6J("nzGhost",!1),t.xp6(4),t.Oqu(t.lcZ(5,5,"profile.add")),t.xp6(3),t.Q6J("ngIf",null==(o=t.lcZ(8,7,a.query))||null==o.data||null==o.data.carModels?null:o.data.carModels.nodes),t.xp6(4),t.Oqu(t.lcZ(12,9,"profile.add")),t.xp6(2),t.Q6J("ngIf",null==(l=t.lcZ(14,11,a.query))||null==l.data?null:l.data.carColors)}},directives:[_.$O,_.Jp,x.ix,v.dQ,A.w,L.Ls,_.u5,g.O5,u.N8,u.Om,u.$Z,u.Uo,u._C,u.p0,g.sg,y.JW,b.Zp,C.Fj,C.JJ,C.On],pipes:[Q.X$,g.Ov],encapsulation:2}),e})(),Z=(()=>{class e{constructor(n,a){this.paging=n,this.gql=a}resolve(n,a){const o=this.paging.deserializeQueryParams(n.queryParams);return this.gql.fetch({modelPaging:o.paging})}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(h.w),t.LFG(s.nr6))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})();const P=[{path:"",component:E,resolve:{cars:Z},runGuardsAndResolvers:"paramsOrQueryParamsChange"}];let $=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[Z],imports:[[p.Bz.forChild(P)],p.Bz]}),e})();var S=r(4534);let H=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[],imports:[[$,S.m]]}),e})()}}]);