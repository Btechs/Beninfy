"use strict";(self.webpackChunkadmin_panel=self.webpackChunkadmin_panel||[]).push([[537],{9537:(B,c,a)=>{a.r(c),a.d(c,{ManagementPaymentGatewaysModule:()=>Y});var u=a(9808),s=a(9826),z=a(655),l=a(3075),y=a(7157),Z=a(3905),t=a(5e3),L=a(8900),p=a(1740),C=a(1646),d=a(3714),f=a(9095),F=a(8177),h=a(4471),U=a(8809),v=a(4138),T=a(5540),A=a(7036),G=a(1062);function Q(e,r){if(1&e&&t._UZ(0,"nz-option",21),2&e){const n=r.$implicit;t.Q6J("nzValue",n)("nzLabel",n)}}let q=(()=>{class e{constructor(n,o,i,g,R){this.route=n,this.fb=o,this.updateGQL=i,this.createGQL=g,this.routerHelper=R,this.form=this.fb.group({id:[null],title:[null,l.kI.required],type:[null,l.kI.required],enabled:[!1,l.kI.required],privateKey:[null,l.kI.required],publicKey:[null],saltKey:[null],merchantId:[null]}),this.gatewayTypes=Object.keys(y.vzA)}ngOnInit(){this.subscription=this.route.data.subscribe(n=>this.form.patchValue(n.paymentGateway.data.paymentGateway))}ngOnDestroy(){var n;null===(n=this.subscription)||void 0===n||n.unsubscribe()}onSubmit(){return(0,z.mG)(this,void 0,void 0,function*(){const n=this.form.value,{id:o}=n,i=(0,z._T)(n,["id"]);null==o?yield(0,Z.z)(this.createGQL.mutate({input:i})):yield(0,Z.z)(this.updateGQL.mutate({id:o,input:i})),this.routerHelper.goToParent(this.route)})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(s.gz),t.Y36(l.qu),t.Y36(y.Y$5),t.Y36(y.n6r),t.Y36(L.b))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-payment-gateway-view"]],decls:48,vars:7,consts:[["nzBackIcon","","nzTitle","Payment Gateway","nzSubtitle","API keys and client facing definitions.",3,"nzGhost"],["nz-form","","nzLayout","vertical",3,"formGroup","ngSubmit"],["formControlName","id","type","hidden","hidden",""],[1,"lg:grid","lg:grid-cols-4","lg:gap-2"],["nzRequired","","nzFor","title"],["nz-input","","required","","id","title","formControlName","title"],["nzRequired","","nzFor","type"],["formControlName","type","id","type"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["nzRequired","","nzFor","enabled"],["nz-checkbox","","required","","id","enabled","formControlName","enabled"],[1,"my-2","text-sm"],["nzFor","publicKey"],["nz-input","","formControlName","publicKey","id","publicKey"],["nzRequired","","nzFor","privateKey"],["nz-input","","required","","formControlName","privateKey","id","privateKey"],["nzFor","merchantId"],["nz-input","","formControlName","merchantId","id","merchantId"],["nzFor","saltKey"],["nz-input","","formControlName","saltKey","id","saltKey"],["nz-button","","nzType","primary","type","submit",1,"float-right",3,"disabled"],[3,"nzValue","nzLabel"]],template:function(n,o){1&n&&(t._UZ(0,"nz-page-header",0),t.TgZ(1,"nz-card"),t.TgZ(2,"form",1),t.NdJ("ngSubmit",function(){return o.onSubmit()}),t._UZ(3,"input",2),t.TgZ(4,"div",3),t.TgZ(5,"nz-form-item"),t.TgZ(6,"nz-form-label",4),t._uU(7,"Title"),t.qZA(),t.TgZ(8,"nz-form-control"),t._UZ(9,"input",5),t.qZA(),t.qZA(),t.TgZ(10,"nz-form-item"),t.TgZ(11,"nz-form-label",6),t._uU(12,"Type"),t.qZA(),t.TgZ(13,"nz-form-control"),t.TgZ(14,"nz-select",7),t.YNc(15,Q,1,2,"nz-option",8),t.qZA(),t.qZA(),t.qZA(),t.TgZ(16,"nz-form-item"),t.TgZ(17,"nz-form-label",9),t._uU(18,"Visibility"),t.qZA(),t.TgZ(19,"nz-form-control"),t.TgZ(20,"label",10),t._uU(21,"Is Enabled?"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(22,"h3",11),t._uU(23,"API Keys"),t.qZA(),t.TgZ(24,"div",3),t.TgZ(25,"nz-form-item"),t.TgZ(26,"nz-form-label",12),t._uU(27,"Public Key"),t.qZA(),t.TgZ(28,"nz-form-control"),t._UZ(29,"input",13),t.qZA(),t.qZA(),t.TgZ(30,"nz-form-item"),t.TgZ(31,"nz-form-label",14),t._uU(32,"Private Key"),t.qZA(),t.TgZ(33,"nz-form-control"),t._UZ(34,"input",15),t.qZA(),t.qZA(),t.TgZ(35,"nz-form-item"),t.TgZ(36,"nz-form-label",16),t._uU(37,"Merchant ID"),t.qZA(),t.TgZ(38,"nz-form-control"),t._UZ(39,"input",17),t.qZA(),t.qZA(),t.TgZ(40,"nz-form-item"),t.TgZ(41,"nz-form-label",18),t._uU(42,"Salt Key"),t.qZA(),t.TgZ(43,"nz-form-control"),t._UZ(44,"input",19),t.qZA(),t.qZA(),t.qZA(),t.TgZ(45,"button",20),t._uU(46),t.ALo(47,"translate"),t.qZA(),t.qZA(),t.qZA()),2&n&&(t.Q6J("nzGhost",!1),t.xp6(2),t.Q6J("formGroup",o.form),t.xp6(13),t.Q6J("ngForOf",o.gatewayTypes),t.xp6(30),t.Q6J("disabled",o.form.invalid),t.xp6(1),t.Oqu(t.lcZ(47,5,"profile.submit")))},directives:[p.$O,C.bd,l._Y,l.JL,d.Lr,l.sg,l.Fj,l.JJ,l.u,f.SK,d.Nx,f.t3,d.iK,d.Fd,F.Zp,l.Q7,h.Vq,u.sg,U.Ie,v.ix,T.dQ,A.w,h.Ip],pipes:[G.X$],encapsulation:2}),e})(),P=(()=>{class e{constructor(n){this.gql=n}resolve(n,o){return this.gql.fetch({id:n.params.id})}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(y.ZfQ))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})();var w=a(9827);let b=(()=>{class e{constructor(n,o){this.paging=n,this.gql=o}resolve(n,o){const i=this.paging.deserializeQueryParams(n.queryParams);return this.gql.fetch(i)}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(w.w),t.LFG(y.Dy5))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})();var x=a(4004),I=a(9997),m=a(7336);function O(e,r){if(1&e&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t.TgZ(6,"a",7),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.qZA(),t.qZA()),2&e){const n=r.$implicit;t.xp6(2),t.Oqu(n.title),t.xp6(2),t.Oqu(n.type),t.xp6(2),t.Q6J("routerLink","view/"+n.id),t.xp6(1),t.Oqu(t.lcZ(8,4,"table.details"))}}const J=function(){return[]};function K(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"nz-table",4,5),t.NdJ("nzQueryParams",function(i){return t.CHM(n),t.oxw().tableService.onTableQueryParamsChange(i)}),t.TgZ(2,"thead"),t.TgZ(3,"tr"),t.TgZ(4,"th"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"th"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"th"),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"tbody"),t.YNc(14,O,9,6,"tr",6),t.qZA(),t.qZA()}if(2&e){const n=r.ngIf,o=t.MAs(1);let i;t.Q6J("nzFrontPagination",!1)("nzData",null!==(i=n.nodes)&&void 0!==i?i:t.DdM(13,J))("nzTotal",n.totalCount),t.xp6(5),t.hij(" ",t.lcZ(6,7,"profile.title")," "),t.xp6(3),t.hij(" ",t.lcZ(9,9,"profile.type")," "),t.xp6(3),t.Oqu(t.lcZ(12,11,"profile.actions")),t.xp6(3),t.Q6J("ngForOf",o.data)}}const M=[{path:"",component:(()=>{class e{constructor(n,o,i){this.route=n,this.router=o,this.tableService=i}ngOnInit(){this.query=this.route.data.pipe((0,x.U)(n=>n.paymentGateways))}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(s.gz),t.Y36(s.F0),t.Y36(w.w))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-payment-gateways-list"]],decls:9,vars:7,consts:[["nzBackIcon","","nzTitle","Payment Gateways","nzSubtitle","Payment options of clients",3,"nzGhost"],["nz-button","","nzType","primary","routerLink","new"],["nz-icon","","nzType","plus"],["nzShowSizeChanger","","nzBordered","",3,"nzFrontPagination","nzData","nzTotal","nzQueryParams",4,"ngIf"],["nzShowSizeChanger","","nzBordered","",3,"nzFrontPagination","nzData","nzTotal","nzQueryParams"],["table",""],[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(n,o){if(1&n&&(t.TgZ(0,"nz-page-header",0),t.TgZ(1,"nz-page-header-extra"),t.TgZ(2,"button",1),t._UZ(3,"i",2),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.qZA(),t.TgZ(6,"nz-page-header-content"),t.YNc(7,K,15,14,"nz-table",3),t.ALo(8,"async"),t.qZA(),t.qZA()),2&n){let i;t.Q6J("nzGhost",!1),t.xp6(4),t.Oqu(t.lcZ(5,3,"profile.add")),t.xp6(3),t.Q6J("ngIf",null==(i=t.lcZ(8,5,o.query))||null==i.data?null:i.data.paymentGateways)}},directives:[p.$O,p.Jp,v.ix,T.dQ,A.w,s.rH,I.Ls,p.u5,u.O5,m.N8,m.Om,m.$Z,m.Uo,m._C,m.p0,u.sg,s.yS],pipes:[G.X$,u.Ov],encapsulation:2}),e})(),resolve:{paymentGateways:b},runGuardsAndResolvers:"paramsOrQueryParamsChange"},{path:"view/:id",component:q,resolve:{paymentGateway:P}},{path:"new",component:q}];let S=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[b,P],imports:[[s.Bz.forChild(M)],s.Bz]}),e})();var V=a(3266),N=a(4534);let Y=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[V.k],imports:[[u.ez,S,N.m]]}),e})()}}]);