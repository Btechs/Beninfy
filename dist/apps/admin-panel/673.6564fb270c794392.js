"use strict";(self.webpackChunkadmin_panel=self.webpackChunkadmin_panel||[]).push([[673],{5673:(Y,d,r)=>{r.r(d),r.d(d,{UserViewModule:()=>J});var s=r(9826),p=r(7157),e=r(5e3);let z=(()=>{class t{constructor(n){this.gql=n}resolve(n,a){return this.gql.fetch({id:n.params.id})}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(p.ngZ))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})();var f=r(655),o=r(3075),T=r(4004),U=r(3905),h=r(1731),m=r(3714),g=r(9095),N=r(8177),c=r(4471),Z=r(9808),A=r(4138),q=r(5540),V=r(7036);function b(t,i){if(1&t&&e._UZ(0,"nz-option",21),2&t){const n=i.$implicit;e.Q6J("nzValue",n.id)("nzLabel",n.title)}}let C=(()=>{class t{constructor(n,a,l,v,S){this.route=n,this.updateGQL=a,this.router=l,this.fb=v,this.msg=S,this.form=this.fb.group({id:[null,o.kI.required],firstName:[null,o.kI.required],lastName:[null,o.kI.required],userName:[null,o.kI.required],email:[null],roleId:[null,o.kI.required],mobileNumber:[null,o.kI.required]})}ngOnInit(){var n,a;null===(n=this.route.parent)||void 0===n||n.data.subscribe(l=>this.form.patchValue(l.operator.data.operator)),this.query=null===(a=this.route.parent)||void 0===a?void 0:a.data.pipe((0,T.U)(l=>l.operator))}onSubmit(){return(0,f.mG)(this,void 0,void 0,function*(){const n=this.form.value,{id:a}=n,l=(0,f._T)(n,["id"]);yield(0,U.z)(this.updateGQL.mutate({id:a,update:l})),this.msg.success("Done!"),this.router.navigateByUrl("/management/users")})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(s.gz),e.Y36(p.Ii4),e.Y36(s.F0),e.Y36(o.qu),e.Y36(h.dD))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-user-view-details"]],decls:37,vars:6,consts:[["nz-form","",3,"nzLayout","formGroup","ngSubmit"],["formControlName","id","type","hidden","hidden",""],[1,"lg:grid","lg:grid-cols-3","lg:gap-2"],["nzRequired","","nzFor","firstName"],["nzErrorTip","The input is not valid First Name"],["nz-input","","required","","formControlName","firstName","id","firstName"],["nzRequired","","nzFor","lastName"],["nzErrorTip","The input is not valid Last Name"],["nz-input","","required","","formControlName","lastName","id","lastName"],["nzRequired","","nzFor","roleId"],["nzErrorTip","Role is not selected"],["required","","formControlName","roleId"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["nzRequired","","nzFor","userName"],["nzErrorTip","The input is not valid User Name"],["nz-input","","required","","formControlName","userName","id","userName"],["nzFor","email"],["nz-input","","formControlName","email","id","email"],["nzRequired","","nzFor","mobileNumber"],["formControlName","mobileNumber","id","'mobileNumber","nz-input",""],["nz-button","","nzType","primary","type","submit",1,"float-right",3,"disabled"],[3,"nzValue","nzLabel"]],template:function(n,a){if(1&n&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return a.onSubmit()}),e._UZ(1,"input",1),e.TgZ(2,"div",2),e.TgZ(3,"nz-form-item"),e.TgZ(4,"nz-form-label",3),e._uU(5,"First Name"),e.qZA(),e.TgZ(6,"nz-form-control",4),e._UZ(7,"input",5),e.qZA(),e.qZA(),e.TgZ(8,"nz-form-item"),e.TgZ(9,"nz-form-label",6),e._uU(10,"Last Name"),e.qZA(),e.TgZ(11,"nz-form-control",7),e._UZ(12,"input",8),e.qZA(),e.qZA(),e.TgZ(13,"nz-form-item"),e.TgZ(14,"nz-form-label",9),e._uU(15,"Role"),e.qZA(),e.TgZ(16,"nz-form-control",10),e.TgZ(17,"nz-select",11),e.YNc(18,b,1,2,"nz-option",12),e.ALo(19,"async"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(20,"nz-form-item"),e.TgZ(21,"nz-form-label",13),e._uU(22,"User Name"),e.qZA(),e.TgZ(23,"nz-form-control",14),e._UZ(24,"input",15),e.qZA(),e.qZA(),e.TgZ(25,"nz-form-item"),e.TgZ(26,"nz-form-label",16),e._uU(27,"Email"),e.qZA(),e.TgZ(28,"nz-form-control"),e._UZ(29,"input",17),e.qZA(),e.qZA(),e.TgZ(30,"nz-form-item"),e.TgZ(31,"nz-form-label",18),e._uU(32,"Mobile Number"),e.qZA(),e.TgZ(33,"nz-form-control"),e._UZ(34,"input",19),e.qZA(),e.qZA(),e.qZA(),e.TgZ(35,"button",20),e._uU(36,"Save"),e.qZA(),e.qZA()),2&n){let l;e.Q6J("nzLayout","vertical")("formGroup",a.form),e.xp6(18),e.Q6J("ngForOf",null==(l=e.lcZ(19,4,a.query))||null==l.data?null:l.data.operatorRoles),e.xp6(17),e.Q6J("disabled",a.form.invalid)}},directives:[o._Y,o.JL,m.Lr,o.sg,o.Fj,o.JJ,o.u,g.SK,m.Nx,g.t3,m.iK,m.Fd,N.Zp,o.Q7,c.Vq,Z.sg,A.ix,q.dQ,V.w,c.Ip],pipes:[Z.Ov],encapsulation:2}),t})();var y=r(1646),u=r(2553),F=r(1062);function L(t,i){1&t&&(e.TgZ(0,"a",2),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"users.tab.details")))}const R=[{path:"",component:(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-user-view"]],decls:5,vars:0,consts:[["nzLinkRouter",""],["nz-tab-link","","routerLink","details",4,"nzTabLink"],["nz-tab-link","","routerLink","details"]],template:function(n,a){1&n&&(e.TgZ(0,"nz-card"),e.TgZ(1,"nz-tabset",0),e.TgZ(2,"nz-tab"),e.YNc(3,L,3,3,"a",1),e.qZA(),e.qZA(),e._UZ(4,"router-outlet"),e.qZA())},directives:[y.bd,u.xH,u.xw,u.Fx,s.lC,u.Ao,s.yS],pipes:[F.X$],encapsulation:2}),t})(),resolve:{operator:z},children:[{path:"",redirectTo:"details"},{path:"details",component:C}]}];let w=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[z],imports:[[s.Bz.forChild(R)],s.Bz]}),t})();var I=r(4534);let J=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[I.m,w]]}),t})()}}]);