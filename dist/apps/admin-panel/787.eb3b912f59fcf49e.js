"use strict";(self.webpackChunkadmin_panel=self.webpackChunkadmin_panel||[]).push([[787],{4787:(w,m,o)=>{o.r(m),o.d(m,{RiderWalletsModule:()=>b});var u=o(9808),d=o(9826),Z=o(4004),n=o(5e3),h=o(9827),p=o(1740),T=o(4138),_=o(5540),v=o(7036),g=o(285),R=o(9997),f=o(863),y=o(8177),c=o(3075),s=o(7336),C=o(1062);function L(t,l){if(1&t&&(n.TgZ(0,"tr"),n.TgZ(1,"td"),n._uU(2),n.qZA(),n.TgZ(3,"td"),n._uU(4),n.ALo(5,"currency"),n.qZA(),n.TgZ(6,"td"),n._uU(7),n.qZA(),n.TgZ(8,"td"),n.TgZ(9,"a",22),n._uU(10),n.ALo(11,"translate"),n.qZA(),n.qZA(),n.qZA()),2&t){const e=l.$implicit;n.xp6(2),n.AsE("",e.rider.firstName," ",e.rider.lastName,""),n.xp6(2),n.Oqu(n.xi3(5,6,e.balance,e.currency)),n.xp6(3),n.Oqu(e.currency),n.xp6(2),n.Q6J("routerLink","/riders/view/"+e.riderId),n.xp6(1),n.Oqu(n.lcZ(11,9,"table.viewRider"))}}const x=function(){return[]};function q(t,l){if(1&t){const e=n.EpF();n.TgZ(0,"nz-table",15,16),n.NdJ("nzQueryParams",function(a){return n.CHM(e),n.oxw(2).tableService.onTableQueryParamsChange(a)}),n.TgZ(2,"thead"),n.TgZ(3,"tr"),n.TgZ(4,"th"),n._uU(5),n.ALo(6,"translate"),n.qZA(),n.TgZ(7,"th",17),n._uU(8),n.ALo(9,"translate"),n.TgZ(10,"nz-filter-trigger",18),n._UZ(11,"i",19),n.qZA(),n.qZA(),n.TgZ(12,"th",20),n.ALo(13,"async"),n._uU(14),n.ALo(15,"translate"),n.qZA(),n.TgZ(16,"th"),n._uU(17),n.ALo(18,"translate"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(19,"tbody"),n.YNc(20,L,12,11,"tr",21),n.qZA(),n.qZA()}if(2&t){const e=l.ngIf,r=n.MAs(1),a=n.oxw(2),i=n.MAs(15);let z;n.Q6J("nzFrontPagination",!1)("nzData",e.nodes)("nzTotal",e.totalCount),n.xp6(5),n.Oqu(n.lcZ(6,12,"profile.name")),n.xp6(3),n.hij("",n.lcZ(9,14,"profile.amount")," "),n.xp6(2),n.Q6J("nzActive",-1!==a.amountRange[0])("nzDropdownMenu",i),n.xp6(2),n.Q6J("nzFilters",null!==(z=n.lcZ(13,16,a.currencies))&&void 0!==z?z:n.DdM(22,x))("nzFilterFn",!0),n.xp6(2),n.Oqu(n.lcZ(15,18,"profile.currency")),n.xp6(3),n.Oqu(n.lcZ(18,20,"profile.actions")),n.xp6(3),n.Q6J("ngForOf",r.data)}}function W(t,l){if(1&t&&(n.TgZ(0,"nz-page-header-content"),n.YNc(1,q,21,23,"nz-table",14),n.ALo(2,"async"),n.qZA()),2&t){const e=n.oxw();let r;n.xp6(1),n.Q6J("ngIf",null==(r=n.lcZ(2,1,e.query))||null==r.data?null:r.data.riderWallets)}}let M=(()=>{class t{constructor(e,r){this.route=e,this.tableService=r,this.amountRange=[-1,-1]}ngOnInit(){this.query=this.route.data.pipe((0,Z.U)(e=>e.riderWallet)),this.currencies=this.query.pipe((0,Z.U)(e=>this.distinctCurrency(e.data.regions.nodes).map(r=>({text:r,value:r}))))}exportTo(e){}distinctCurrency(e){return e.map(r=>r.currency).filter((r,a,i)=>i.indexOf(r)===a)}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(d.gz),n.Y36(h.w))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-rider-wallets"]],decls:28,vars:22,consts:[["nzBackIcon","","nzTitle","Rider Wallets","nzSubtitle","List of riders current wallet balance",3,"nzGhost"],["nz-button","","nz-dropdown","",3,"nzDropdownMenu"],["nz-icon","","nzType","export"],["nz-icon","","nzType","down"],["menuExport","nzDropdownMenu"],["nz-menu",""],["nz-menu-item","",3,"click"],[4,"ngIf"],["filteramount","nzDropdownMenu"],[1,"ant-table-filter-dropdown"],[1,"search-box"],["nz-input","","type","number",3,"placeholder","ngModel","ngModelChange"],["nz-button","","nzSize","small","nzType","primary",1,"search-button",3,"click"],["nz-button","","nzSize","small",3,"click"],["nzShowSizeChanger","","nzBordered","",3,"nzFrontPagination","nzData","nzTotal","nzQueryParams",4,"ngIf"],["nzShowSizeChanger","","nzBordered","",3,"nzFrontPagination","nzData","nzTotal","nzQueryParams"],["table",""],["nzShowSort","","nzColumnKey","amount","nzCustomFilter",""],[3,"nzActive","nzDropdownMenu"],["nz-icon","","nzType","search"],["nzShowSort","","nzColumnKey","currency","nzShowFilter","",3,"nzFilters","nzFilterFn"],[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(e,r){if(1&e&&(n.TgZ(0,"nz-page-header",0),n.TgZ(1,"nz-page-header-extra"),n.TgZ(2,"button",1),n._UZ(3,"i",2),n._uU(4),n.ALo(5,"translate"),n._UZ(6,"i",3),n.qZA(),n.TgZ(7,"nz-dropdown-menu",null,4),n.TgZ(9,"ul",5),n.TgZ(10,"li",6),n.NdJ("click",function(){return r.exportTo("csv")}),n._uU(11,"CSV"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.YNc(12,W,3,3,"nz-page-header-content",7),n.ALo(13,"async"),n.qZA(),n.TgZ(14,"nz-dropdown-menu",null,8),n.TgZ(16,"div",9),n.TgZ(17,"div",10),n.TgZ(18,"input",11),n.NdJ("ngModelChange",function(i){return r.amountRange[0]=i}),n.ALo(19,"translate"),n.qZA(),n.TgZ(20,"input",11),n.NdJ("ngModelChange",function(i){return r.amountRange[1]=i}),n.ALo(21,"translate"),n.qZA(),n.TgZ(22,"button",12),n.NdJ("click",function(){return r.tableService.filterRange("balance",r.amountRange)}),n._uU(23),n.ALo(24,"translate"),n.qZA(),n.TgZ(25,"button",13),n.NdJ("click",function(){return r.tableService.filterRange("balance",void 0)}),n._uU(26),n.ALo(27,"translate"),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&e){const a=n.MAs(8);let i;n.Q6J("nzGhost",!1),n.xp6(2),n.Q6J("nzDropdownMenu",a),n.xp6(2),n.hij(" ",n.lcZ(5,10,"profile.export")," "),n.xp6(8),n.Q6J("ngIf",null==(i=n.lcZ(13,12,r.query))?null:i.data),n.xp6(6),n.s9C("placeholder",n.lcZ(19,14,"table.min")),n.Q6J("ngModel",r.amountRange[0]),n.xp6(2),n.s9C("placeholder",n.lcZ(21,16,"table.max")),n.Q6J("ngModel",r.amountRange[1]),n.xp6(3),n.Oqu(n.lcZ(24,18,"profile.search")),n.xp6(3),n.Oqu(n.lcZ(27,20,"profile.reset"))}},directives:[p.$O,p.Jp,T.ix,_.dQ,v.w,g.wA,g.cm,R.Ls,g.RR,f.wO,f.r9,u.O5,y.Zp,c.wV,c.Fj,c.JJ,c.On,p.u5,s.N8,s.Om,s.$Z,s.Uo,s._C,s.qD,s.Ql,s.p0,u.sg,d.yS],pipes:[C.X$,u.Ov,u.H9],encapsulation:2}),t})();var F=o(7157);let A=(()=>{class t{constructor(e,r){this.paging=e,this.gql=r}resolve(e,r){const a=this.paging.deserializeQueryParams(e.queryParams);return this.gql.fetch(a)}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(h.w),n.LFG(F.vYB))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})();const J=[{path:"",component:M,resolve:{riderWallet:A},runGuardsAndResolvers:"paramsOrQueryParamsChange"}];let Q=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({providers:[A],imports:[[d.Bz.forChild(J)],d.Bz]}),t})();var S=o(4534);let b=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[u.ez,Q,S.m]]}),t})()}}]);