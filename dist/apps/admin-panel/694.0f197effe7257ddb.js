"use strict";(self.webpackChunkadmin_panel=self.webpackChunkadmin_panel||[]).push([[694],{6694:(k,f,o)=>{o.r(f),o.d(f,{ManagementRegionModule:()=>_});var g=o(9808),s=o(9826),z=o(3266),N=o(4004),a=o(5e3),R=o(9827),b=o(1740),Z=o(4138),T=o(5540),D=o(7036),F=o(9997),v=o(7336),B=o(6771),G=o(1062);function O(l,t){if(1&l&&(a.TgZ(0,"tr"),a.TgZ(1,"td"),a._uU(2),a.qZA(),a.TgZ(3,"td"),a._uU(4),a.qZA(),a.TgZ(5,"td"),a.TgZ(6,"nz-tag",7),a._uU(7),a.ALo(8,"translate"),a.ALo(9,"translate"),a.qZA(),a.qZA(),a.TgZ(10,"td"),a.TgZ(11,"a",8),a._uU(12),a.ALo(13,"translate"),a.qZA(),a.qZA(),a.qZA()),2&l){const e=t.$implicit,n=a.oxw(2);a.xp6(2),a.Oqu(e.name),a.xp6(2),a.Oqu(e.currency),a.xp6(2),a.Q6J("nzColor",n.tagColor.boolean(e.enabled)),a.xp6(1),a.Oqu(e.enabled?a.lcZ(8,6,"profile.enabled"):a.lcZ(9,8,"profile.disabled")),a.xp6(4),a.Q6J("routerLink","view/"+e.id),a.xp6(1),a.Oqu(a.lcZ(13,10,"profile.view"))}}function w(l,t){if(1&l&&(a.TgZ(0,"nz-table",4,5),a.TgZ(2,"thead"),a.TgZ(3,"tr"),a.TgZ(4,"th"),a._uU(5),a.ALo(6,"translate"),a.qZA(),a.TgZ(7,"th"),a._uU(8),a.ALo(9,"translate"),a.qZA(),a.TgZ(10,"th"),a._uU(11),a.ALo(12,"translate"),a.qZA(),a.TgZ(13,"th"),a._uU(14),a.ALo(15,"translate"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(16,"tbody"),a.YNc(17,O,14,12,"tr",6),a.qZA(),a.qZA()),2&l){const e=t.ngIf,n=a.MAs(1);a.Q6J("nzFrontPagination",!1)("nzData",e.nodes)("nzTotal",e.totalCount),a.xp6(5),a.Oqu(a.lcZ(6,8,"profile.name")),a.xp6(3),a.Oqu(a.lcZ(9,10,"profile.currency")),a.xp6(3),a.Oqu(a.lcZ(12,12,"profile.status")),a.xp6(3),a.Oqu(a.lcZ(15,14,"profile.actions")),a.xp6(3),a.Q6J("ngForOf",n.data)}}let U=(()=>{class l{constructor(e,n,i,r){this.route=e,this.tableService=n,this.router=i,this.tagColor=r}ngOnInit(){this.query=this.route.data.pipe((0,N.U)(e=>e.regions))}}return l.\u0275fac=function(e){return new(e||l)(a.Y36(s.gz),a.Y36(R.w),a.Y36(s.F0),a.Y36(z.k))},l.\u0275cmp=a.Xpm({type:l,selectors:[["app-region-list"]],decls:9,vars:7,consts:[["nzBackIcon","","nzTitle","Regions","nzSubtitle","List of all the regions app operates within",3,"nzGhost"],["nz-button","","nzType","primary","routerLink","new"],["nz-icon","","nzType","plus"],["nzShowSizeChanger","","nzBordered","",3,"nzFrontPagination","nzData","nzTotal",4,"ngIf"],["nzShowSizeChanger","","nzBordered","",3,"nzFrontPagination","nzData","nzTotal"],["ajaxTable",""],[4,"ngFor","ngForOf"],[3,"nzColor"],[3,"routerLink"]],template:function(e,n){if(1&e&&(a.TgZ(0,"nz-page-header",0),a.TgZ(1,"nz-page-header-extra"),a.TgZ(2,"button",1),a._UZ(3,"i",2),a._uU(4),a.ALo(5,"translate"),a.qZA(),a.qZA(),a.TgZ(6,"nz-page-header-content"),a.YNc(7,w,18,16,"nz-table",3),a.ALo(8,"async"),a.qZA(),a.qZA()),2&e){let i;a.Q6J("nzGhost",!1),a.xp6(4),a.Oqu(a.lcZ(5,3,"profile.add")),a.xp6(3),a.Q6J("ngIf",null==(i=a.lcZ(8,5,n.query))||null==i.data?null:i.data.regions)}},directives:[b.$O,b.Jp,Z.ix,T.dQ,D.w,s.rH,F.Ls,b.u5,g.O5,v.N8,v.Om,v.$Z,v.Uo,v._C,v.p0,g.sg,B.j,s.yS],pipes:[G.X$,g.Ov],encapsulation:2}),l})();var c=o(7157);let A=(()=>{class l{constructor(e,n){this.paging=e,this.gql=n}resolve(e,n){const i=this.paging.deserializeQueryParams(e.queryParams);return this.gql.fetch(i)}}return l.\u0275fac=function(e){return new(e||l)(a.LFG(R.w),a.LFG(c.ckV))},l.\u0275prov=a.Yz7({token:l,factory:l.\u0275fac}),l})();var C=o(655),u=o(3075),p=o(3315),S=o(3905);const K=[{value:"AED",label:"United Arab Emirates Dirham"},{value:"AFN",label:"Afghan Afghani"},{value:"ALL",label:"Albanian Lek"},{value:"AMD",label:"Armenian Dram"},{value:"ANG",label:"Netherlands Antillean Guilder"},{value:"AOA",label:"Angolan Kwanza"},{value:"ARS",label:"Argentine Peso"},{value:"AUD",label:"Australian Dollar"},{value:"AWG",label:"Aruban Florin"},{value:"AZN",label:"Azerbaijani Manat"},{value:"BAM",label:"Bosnia-Herzegovina Convertible Mark"},{value:"BBD",label:"Barbadian Dollar"},{value:"BDT",label:"Bangladeshi Taka"},{value:"BGN",label:"Bulgarian Lev"},{value:"BHD",label:"Bahraini Dinar"},{value:"BIF",label:"Burundian Franc"},{value:"BMD",label:"Bermudan Dollar"},{value:"BND",label:"Brunei Dollar"},{value:"BOB",label:"Bolivian Boliviano"},{value:"BRL",label:"Brazilian Real"},{value:"BSD",label:"Bahamian Dollar"},{value:"BTC",label:"Bitcoin"},{value:"BTN",label:"Bhutanese Ngultrum"},{value:"BWP",label:"Botswanan Pula"},{value:"BYN",label:"Belarusian Ruble"},{value:"BZD",label:"Belize Dollar"},{value:"CAD",label:"Canadian Dollar"},{value:"CDF",label:"Congolese Franc"},{value:"CHF",label:"Swiss Franc"},{value:"CLF",label:"Chilean Unit of Account (UF)"},{value:"CLP",label:"Chilean Peso"},{value:"CNH",label:"Chinese Yuan (Offshore)"},{value:"CNY",label:"Chinese Yuan"},{value:"COP",label:"Colombian Peso"},{value:"CRC",label:"Costa Rican Col\xf3n"},{value:"CUC",label:"Cuban Convertible Peso"},{value:"CUP",label:"Cuban Peso"},{value:"CVE",label:"Cape Verdean Escudo"},{value:"CZK",label:"Czech Republic Koruna"},{value:"DJF",label:"Djiboutian Franc"},{value:"DKK",label:"Danish Krone"},{value:"DOP",label:"Dominican Peso"},{value:"DZD",label:"Algerian Dinar"},{value:"EGP",label:"Egyptian Pound"},{value:"ERN",label:"Eritrean Nakfa"},{value:"ETB",label:"Ethiopian Birr"},{value:"EUR",label:"Euro"},{value:"FJD",label:"Fijian Dollar"},{value:"FKP",label:"Falkland Islands Pound"},{value:"GBP",label:"British Pound Sterling"},{value:"GEL",label:"Georgian Lari"},{value:"GGP",label:"Guernsey Pound"},{value:"GHS",label:"Ghanaian Cedi"},{value:"GIP",label:"Gibraltar Pound"},{value:"GMD",label:"Gambian Dalasi"},{value:"GNF",label:"Guinean Franc"},{value:"GTQ",label:"Guatemalan Quetzal"},{value:"GYD",label:"Guyanaese Dollar"},{value:"HKD",label:"Hong Kong Dollar"},{value:"HNL",label:"Honduran Lempira"},{value:"HRK",label:"Croatian Kuna"},{value:"HTG",label:"Haitian Gourde"},{value:"HUF",label:"Hungarian Forint"},{value:"IDR",label:"Indonesian Rupiah"},{value:"ILS",label:"Israeli New Sheqel"},{value:"IMP",label:"Manx pound"},{value:"INR",label:"Indian Rupee"},{value:"IQD",label:"Iraqi Dinar"},{value:"IRR",label:"Iranian Rial"},{value:"ISK",label:"Icelandic Kr\xf3na"},{value:"JEP",label:"Jersey Pound"},{value:"JMD",label:"Jamaican Dollar"},{value:"JOD",label:"Jordanian Dinar"},{value:"JPY",label:"Japanese Yen"},{value:"KES",label:"Kenyan Shilling"},{value:"KGS",label:"Kyrgystani Som"},{value:"KHR",label:"Cambodian Riel"},{value:"KMF",label:"Comorian Franc"},{value:"KPW",label:"North Korean Won"},{value:"KRW",label:"South Korean Won"},{value:"KWD",label:"Kuwaiti Dinar"},{value:"KYD",label:"Cayman Islands Dollar"},{value:"KZT",label:"Kazakhstani Tenge"},{value:"LAK",label:"Laotian Kip"},{value:"LBP",label:"Lebanese Pound"},{value:"LKR",label:"Sri Lankan Rupee"},{value:"LRD",label:"Liberian Dollar"},{value:"LSL",label:"Lesotho Loti"},{value:"LYD",label:"Libyan Dinar"},{value:"MAD",label:"Moroccan Dirham"},{value:"MDL",label:"Moldovan Leu"},{value:"MGA",label:"Malagasy Ariary"},{value:"MKD",label:"Macedonian Denar"},{value:"MMK",label:"Myanma Kyat"},{value:"MNT",label:"Mongolian Tugrik"},{value:"MOP",label:"Macanese Pataca"},{value:"MRO",label:"Mauritanian Ouguiya (pre-2018)"},{value:"MRU",label:"Mauritanian Ouguiya"},{value:"MUR",label:"Mauritian Rupee"},{value:"MVR",label:"Maldivian Rufiyaa"},{value:"MWK",label:"Malawian Kwacha"},{value:"MXN",label:"Mexican Peso"},{value:"MYR",label:"Malaysian Ringgit"},{value:"MZN",label:"Mozambican Metical"},{value:"NAD",label:"Namibian Dollar"},{value:"NGN",label:"Nigerian Naira"},{value:"NIO",label:"Nicaraguan C\xf3rdoba"},{value:"NOK",label:"Norwegian Krone"},{value:"NPR",label:"Nepalese Rupee"},{value:"NZD",label:"New Zealand Dollar"},{value:"OMR",label:"Omani Rial"},{value:"PAB",label:"Panamanian Balboa"},{value:"PEN",label:"Peruvian Nuevo Sol"},{value:"PGK",label:"Papua New Guinean Kina"},{value:"PHP",label:"Philippine Peso"},{value:"PKR",label:"Pakistani Rupee"},{value:"PLN",label:"Polish Zloty"},{value:"PYG",label:"Paraguayan Guarani"},{value:"QAR",label:"Qatari Rial"},{value:"RON",label:"Romanian Leu"},{value:"RSD",label:"Serbian Dinar"},{value:"RUB",label:"Russian Ruble"},{value:"RWF",label:"Rwandan Franc"},{value:"SAR",label:"Saudi Riyal"},{value:"SBD",label:"Solomon Islands Dollar"},{value:"SCR",label:"Seychellois Rupee"},{value:"SDG",label:"Sudanese Pound"},{value:"SEK",label:"Swedish Krona"},{value:"SGD",label:"Singapore Dollar"},{value:"SHP",label:"Saint Helena Pound"},{value:"SLL",label:"Sierra Leonean Leone"},{value:"SOS",label:"Somali Shilling"},{value:"SRD",label:"Surinamese Dollar"},{value:"SSP",label:"South Sudanese Pound"},{value:"STD",label:"S\xe3o Tom\xe9 and Pr\xedncipe Dobra (pre-2018)"},{value:"STN",label:"S\xe3o Tom\xe9 and Pr\xedncipe Dobra"},{value:"SVC",label:"Salvadoran Col\xf3n"},{value:"SYP",label:"Syrian Pound"},{value:"SZL",label:"Swazi Lilangeni"},{value:"THB",label:"Thai Baht"},{value:"TJS",label:"Tajikistani Somoni"},{value:"TMT",label:"Turkmenistani Manat"},{value:"TND",label:"Tunisian Dinar"},{value:"TOP",label:"Tongan Pa'anga"},{value:"TRY",label:"Turkish Lira"},{value:"TTD",label:"Trinidad and Tobago Dollar"},{value:"TWD",label:"New Taiwan Dollar"},{value:"TZS",label:"Tanzanian Shilling"},{value:"UAH",label:"Ukrainian Hryvnia"},{value:"UGX",label:"Ugandan Shilling"},{value:"USD",label:"United States Dollar"},{value:"UYU",label:"Uruguayan Peso"},{value:"UZS",label:"Uzbekistan Som"},{value:"VEF",label:"Venezuelan Bol\xedvar Fuerte (Old)"},{value:"VES",label:"Venezuelan Bol\xedvar Soberano"},{value:"VND",label:"Vietnamese Dong"},{value:"VUV",label:"Vanuatu Vatu"},{value:"WST",label:"Samoan Tala"},{value:"XAF",label:"CFA Franc BEAC"},{value:"XAG",label:"Silver Ounce"},{value:"XAU",label:"Gold Ounce"},{value:"XCD",label:"East Caribbean Dollar"},{value:"XDR",label:"Special Drawing Rights"},{value:"XOF",label:"CFA Franc BCEAO"},{value:"XPD",label:"Palladium Ounce"},{value:"XPF",label:"CFP Franc"},{value:"XPT",label:"Platinum Ounce"},{value:"YER",label:"Yemeni Rial"},{value:"ZAR",label:"South African Rand"},{value:"ZMW",label:"Zambian Kwacha"},{value:"ZWL",label:"Zimbabwean Dollar"}];var V=o(1731),Y=o(1646),d=o(3714),L=o(9095),q=o(8177),P=o(4471),x=o(2998);function J(l,t){if(1&l&&a._UZ(0,"nz-option",17),2&l){const e=t.$implicit;a.Q6J("nzLabel",e.label)("nzValue",e.value)}}function I(l,t){if(1&l){const e=a.EpF();a.TgZ(0,"button",18),a.NdJ("click",function(){return a.CHM(e),a.oxw().onSubmit()}),a._uU(1,"Save"),a.qZA(),a.TgZ(2,"button",19),a.NdJ("click",function(){return a.CHM(e),a.oxw().clearMap()}),a._uU(3,"Clear Map"),a.qZA()}if(2&l){const e=a.oxw();a.Q6J("disabled",e.form.invalid)}}const E=function(l){return[l]},Q=function(){return[]};let y=(()=>{class l{constructor(e,n,i,r,m,h){this.route=e,this.router=n,this.fb=i,this.createGQL=r,this.updateGQL=m,this.msg=h,this.form=this.fb.group({id:[null],name:[null,u.kI.required],currency:[null,u.kI.required],enabled:[!0,u.kI.required],location:[null]}),this.center={lat:24,lng:12},this.currencies=K}ngAfterViewInit(){this.initializeDrawingManager()}initializeDrawingManager(){var e;this.route.data.subscribe(n=>{if(null!=n.region){const r=n.region.data.region;if(null!=r&&(this.form.patchValue(r),null!=r.location)){const m=new google.maps.LatLngBounds;for(const h of r.location)for(const j of h)m.extend(j);this.map.fitBounds(m)}}}),this.drawingManager=new google.maps.drawing.DrawingManager({drawingMode:google.maps.drawing.OverlayType.POLYGON,drawingControl:!0,map:null===(e=this.map)||void 0===e?void 0:e.googleMap,drawingControlOptions:{position:google.maps.ControlPosition.TOP_CENTER,drawingModes:[google.maps.drawing.OverlayType.POLYGON]}}),google.maps.event.addListener(this.drawingManager,"overlaycomplete",n=>{if(n.type===google.maps.drawing.OverlayType.POLYGON){const i=n.overlay.getPath().getArray();i.push(i[0]),null==this.form.value.location?this.form.value.location=[i]:this.form.value.location.push(i)}})}onSubmit(){return(0,C.mG)(this,void 0,void 0,function*(){try{const e=this.form.value,{id:n}=e,i=(0,C._T)(e,["id"]);null==n?yield(0,S.z)(this.createGQL.mutate({input:i})):yield(0,S.z)(this.updateGQL.mutate({id:n,update:i})),this.router.navigate(["management/regions"],{relativeTo:this.route.root})}catch(e){this.msg.error(e.message)}})}clearMap(){this.form.value.location=[],this.form.patchValue({location:[]})}}return l.\u0275fac=function(e){return new(e||l)(a.Y36(s.gz),a.Y36(s.F0),a.Y36(u.qu),a.Y36(c.CQf),a.Y36(c.d4l),a.Y36(V.dD))},l.\u0275cmp=a.Xpm({type:l,selectors:[["app-region-view"]],viewQuery:function(e,n){if(1&e&&a.Gf(p.b6,5),2&e){let i;a.iGM(i=a.CRH())&&(n.map=i.first)}},decls:26,vars:10,consts:[["nzBackIcon","","nzTitle","New Region","nzSubtitle","Pramaters of region app is operating within.",3,"nzGhost"],[3,"nzActions"],["nz-form","",3,"formGroup","ngSubmit"],["formControlName","id","type","hidden","hidden",""],["nzRequired","","nzFor","name"],["nzErrorTip","The input is not valid name"],["nz-input","","formControlName","name","id","name"],["nzRequired","","nzFor","currency"],["formControlName","currency","id","currency"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nzFor","enabled","nzRequired",""],["formControlName","enabled","id","enabled"],["type","hidden","hidden","","formControlName","location"],["height","400px","width","100%",3,"center","zoom"],[3,"paths"],["poly",""],["tmplActions",""],[3,"nzLabel","nzValue"],["nz-button","","nzType","primary","type","submit",3,"disabled","click"],["nz-button","","type","button",2,"margin","4px",3,"click"]],template:function(e,n){if(1&e&&(a._UZ(0,"nz-page-header",0),a.TgZ(1,"nz-card",1),a.TgZ(2,"form",2),a.NdJ("ngSubmit",function(){return n.onSubmit()}),a._UZ(3,"input",3),a.TgZ(4,"nz-form-item"),a.TgZ(5,"nz-form-label",4),a._uU(6,"Name"),a.qZA(),a.TgZ(7,"nz-form-control",5),a._UZ(8,"input",6),a.qZA(),a.qZA(),a.TgZ(9,"nz-form-item"),a.TgZ(10,"nz-form-label",7),a._uU(11,"Currency"),a.qZA(),a.TgZ(12,"nz-form-control"),a.TgZ(13,"nz-select",8),a.YNc(14,J,1,2,"nz-option",9),a.qZA(),a.qZA(),a.qZA(),a.TgZ(15,"nz-form-item"),a.TgZ(16,"nz-form-label",10),a._uU(17,"Is Enabled"),a.qZA(),a.TgZ(18,"nz-form-control"),a._UZ(19,"nz-switch",11),a.qZA(),a.qZA(),a._UZ(20,"input",12),a.TgZ(21,"google-map",13),a._UZ(22,"map-polygon",14,15),a.qZA(),a.YNc(24,I,4,1,"ng-template",null,16,a.W1O),a.qZA(),a.qZA()),2&e){const i=a.MAs(25);let r;a.Q6J("nzGhost",!1),a.xp6(1),a.Q6J("nzActions",a.VKq(7,E,i)),a.xp6(1),a.Q6J("formGroup",n.form),a.xp6(12),a.Q6J("ngForOf",n.currencies),a.xp6(7),a.Q6J("center",n.center)("zoom",4),a.xp6(1),a.Q6J("paths",null!==(r=null==n.form.value?null:n.form.value.location)&&void 0!==r?r:a.DdM(9,Q))}},directives:[b.$O,Y.bd,u._Y,u.JL,d.Lr,u.sg,u.Fj,u.JJ,u.u,L.SK,d.Nx,L.t3,d.iK,d.Fd,q.Zp,P.Vq,g.sg,x.i,p.b6,p.oM,P.Ip,Z.ix,T.dQ,D.w],encapsulation:2}),l})(),M=(()=>{class l{constructor(e){this.gql=e}resolve(e,n){return this.gql.fetch({id:e.params.id})}}return l.\u0275fac=function(e){return new(e||l)(a.LFG(c.BEG))},l.\u0275prov=a.Yz7({token:l,factory:l.\u0275fac}),l})();const H=[{path:"",component:U,resolve:{regions:A},runGuardsAndResolvers:"paramsOrQueryParamsChange"},{path:"view/:id",component:y,resolve:{region:M}},{path:"new",component:y}];let W=(()=>{class l{}return l.\u0275fac=function(e){return new(e||l)},l.\u0275mod=a.oAB({type:l}),l.\u0275inj=a.cJS({providers:[A,M],imports:[[s.Bz.forChild(H)],s.Bz]}),l})();var X=o(4534);let _=(()=>{class l{}return l.\u0275fac=function(e){return new(e||l)},l.\u0275mod=a.oAB({type:l}),l.\u0275inj=a.cJS({providers:[z.k],imports:[[g.ez,W,X.m]]}),l})()}}]);