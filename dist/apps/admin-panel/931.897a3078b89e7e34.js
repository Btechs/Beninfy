"use strict";(self.webpackChunkadmin_panel=self.webpackChunkadmin_panel||[]).push([[931],{3411:(Be,k,i)=>{i.r(k),i.d(k,{DriverProfileModule:()=>Ve});var W=i(4534),d=i(9826),T=i(655),s=i(3075),p=i(7157),D=i(7768),w=i(4610),ee=i(8306),g=i(4004),P=i(3905),e=i(5e3),L=i(1731),U=i(8900),c=i(9808),f=i(3714),h=i(9095),I=i(8177),A=i(4471),Y=i(8763),ne=i(5820),F=i(4138),N=i(5540),O=i(7036),q=i(6771),R=i(9997),v=i(1062);function re(r,a){if(1&r&&(e._UZ(0,"nz-option",45),e.ALo(1,"translate")),2&r){const n=a.$implicit,t=e.oxw(2);e.Q6J("nzLabel",e.lcZ(1,2,"enum.gender."+t.camelCase(n)))("nzValue",n)}}function te(r,a){if(1&r&&e._UZ(0,"nz-option",46),2&r){const n=a.$implicit;e.Q6J("nzValue",n.id)("nzLabel",n.name)}}function oe(r,a){if(1&r&&e._UZ(0,"nz-option",46),2&r){const n=a.$implicit;e.Q6J("nzValue",n.id)("nzLabel",n.name)}}function ae(r,a){if(1&r&&e._UZ(0,"nz-option",46),2&r){const n=a.$implicit;e.Q6J("nzValue",n.id)("nzLabel",n.name)}}function ie(r,a){if(1&r){const n=e.EpF();e.TgZ(0,"nz-tag",47),e.NdJ("nzCheckedChange",function(o){const m=e.CHM(n).$implicit;return e.oxw(2).handleServiceCheckChange(o,m)}),e._uU(1),e.qZA()}if(2&r){const n=a.$implicit,t=e.oxw(2);e.Q6J("nzChecked",t.form.value.enabledServices.indexOf(n.id)>-1),e.xp6(1),e.hij(" ",n.name," ")}}function le(r,a){if(1&r&&(e.ynx(0),e._UZ(1,"i",48),e.TgZ(2,"div",49),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.BQk()),2&r){const n=e.oxw(2);e.xp6(1),e.Q6J("nzType",n.loadingUpload?"loading":"plus"),e.xp6(2),e.Oqu(e.lcZ(4,2,"profile.upload"))}}function se(r,a){if(1&r&&e._UZ(0,"img",50),2&r){const n=e.oxw(2);e.Q6J("src",n.root+n.avatarUrl,e.LSH)}}const ce=function(r){return{Authorization:r}};function ue(r,a){if(1&r){const n=e.EpF();e.TgZ(0,"form",1),e.NdJ("ngSubmit",function(){return e.CHM(n),e.oxw().onSubmit()}),e._UZ(1,"input",2),e._UZ(2,"input",3),e._UZ(3,"input",4),e.TgZ(4,"div",5),e.TgZ(5,"nz-form-item"),e.TgZ(6,"nz-form-label",6),e._uU(7,"First Name"),e.qZA(),e.TgZ(8,"nz-form-control"),e._UZ(9,"input",7),e.qZA(),e.qZA(),e.TgZ(10,"nz-form-item"),e.TgZ(11,"nz-form-label",8),e._uU(12,"Last Name"),e.qZA(),e.TgZ(13,"nz-form-control"),e._UZ(14,"input",9),e.qZA(),e.qZA(),e.TgZ(15,"nz-form-item"),e.TgZ(16,"nz-form-label",10),e._uU(17,"Gender"),e.qZA(),e.TgZ(18,"nz-select",11),e.YNc(19,re,2,4,"nz-option",12),e.qZA(),e.qZA(),e.TgZ(20,"nz-form-item"),e.TgZ(21,"nz-form-label",13),e._uU(22,"Mobile Number"),e.qZA(),e.TgZ(23,"nz-form-control"),e._UZ(24,"nz-input-number",14),e.qZA(),e.qZA(),e.TgZ(25,"nz-form-item"),e.TgZ(26,"nz-form-label",15),e._uU(27,"E-Mail"),e.qZA(),e.TgZ(28,"nz-form-control"),e._UZ(29,"input",16),e.qZA(),e.qZA(),e.TgZ(30,"nz-form-item"),e.TgZ(31,"nz-form-label",17),e._uU(32,"Fleet"),e.qZA(),e.TgZ(33,"nz-form-control"),e.TgZ(34,"nz-select",18),e.YNc(35,te,1,2,"nz-option",19),e.qZA(),e.qZA(),e.qZA(),e.TgZ(36,"nz-form-item"),e.TgZ(37,"nz-form-label",20),e._uU(38,"Car Model"),e.qZA(),e.TgZ(39,"nz-form-control"),e.TgZ(40,"nz-select",21),e.YNc(41,oe,1,2,"nz-option",19),e.qZA(),e.qZA(),e.qZA(),e.TgZ(42,"nz-form-item"),e.TgZ(43,"nz-form-label",22),e._uU(44,"Car Color"),e.qZA(),e.TgZ(45,"nz-form-control"),e.TgZ(46,"nz-select",23),e.YNc(47,ae,1,2,"nz-option",19),e.qZA(),e.qZA(),e.qZA(),e.TgZ(48,"nz-form-item"),e.TgZ(49,"nz-form-label",24),e._uU(50,"Car Production Year"),e.qZA(),e.TgZ(51,"nz-form-control"),e._UZ(52,"nz-input-number",25),e.qZA(),e.qZA(),e.TgZ(53,"nz-form-item"),e.TgZ(54,"nz-form-label",26),e._uU(55,"Car Plate Number"),e.qZA(),e.TgZ(56,"nz-form-control"),e._UZ(57,"input",27),e.qZA(),e.qZA(),e.TgZ(58,"nz-form-item"),e.TgZ(59,"nz-form-label",28),e._uU(60,"Account Number"),e.qZA(),e.TgZ(61,"nz-form-control"),e._UZ(62,"input",29),e.qZA(),e.qZA(),e.TgZ(63,"nz-form-item"),e.TgZ(64,"nz-form-label",30),e._uU(65,"Bank Name"),e.qZA(),e.TgZ(66,"nz-form-control"),e._UZ(67,"input",31),e.qZA(),e.qZA(),e.TgZ(68,"nz-form-item"),e.TgZ(69,"nz-form-label",32),e._uU(70,"Bank Routing Number"),e.qZA(),e.TgZ(71,"nz-form-control"),e._UZ(72,"input",33),e.qZA(),e.qZA(),e.TgZ(73,"nz-form-item"),e.TgZ(74,"nz-form-label",34),e._uU(75,"Bank Swift"),e.qZA(),e.TgZ(76,"nz-form-control"),e._UZ(77,"input",35),e.qZA(),e.qZA(),e.TgZ(78,"nz-form-item"),e.TgZ(79,"nz-form-label",36),e._uU(80,"Address"),e.qZA(),e.TgZ(81,"nz-form-control"),e._UZ(82,"input",37),e.qZA(),e.qZA(),e.TgZ(83,"nz-form-item",38),e.TgZ(84,"nz-form-label",39),e._uU(85),e.ALo(86,"translate"),e.qZA(),e.TgZ(87,"nz-form-control"),e.YNc(88,ie,2,2,"nz-tag",40),e.qZA(),e.qZA(),e.TgZ(89,"nz-form-item"),e.TgZ(90,"nz-form-label"),e._uU(91,"Image"),e.qZA(),e.TgZ(92,"nz-form-control"),e.TgZ(93,"nz-upload",41),e.NdJ("nzChange",function(o){return e.CHM(n),e.oxw().handleUploadChange(o)}),e.YNc(94,le,5,4,"ng-container",42),e.YNc(95,se,1,1,"img",43),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(96,"button",44),e._uU(97),e.ALo(98,"translate"),e.qZA(),e.qZA()}if(2&r){const n=a.ngIf,t=e.oxw();e.Q6J("formGroup",t.form),e.xp6(19),e.Q6J("ngForOf",t.genders),e.xp6(16),e.Q6J("ngForOf",n.fleets.nodes),e.xp6(6),e.Q6J("ngForOf",n.carModels.nodes),e.xp6(6),e.Q6J("ngForOf",n.carColors),e.xp6(38),e.hij(" ",e.lcZ(86,15,"profile.services")," "),e.xp6(3),e.Q6J("ngForOf",n.services),e.xp6(5),e.Q6J("nzAction",t.root+"upload")("nzHeaders",e.VKq(19,ce,"Bearer "+t.jwt))("nzBeforeUpload",t.beforeUpload)("nzShowUploadList",!1),e.xp6(1),e.Q6J("ngIf",!t.avatarUrl),e.xp6(1),e.Q6J("ngIf",t.avatarUrl),e.xp6(1),e.Q6J("disabled",!t.form.valid),e.xp6(1),e.Oqu(e.lcZ(98,17,"profile.save"))}}let me=(()=>{class r{constructor(n,t,o,l,m){this.route=n,this.msg=t,this.updateGQL=o,this.routerHelper=l,this.fb=m,this.form=this.fb.group({id:[null,s.kI.required],firstName:[null,s.kI.required],lastName:[null,s.kI.required],mobileNumber:[null,s.kI.required],gender:[null],email:[null],fleetId:[null],carId:[null],carColorId:[null],carProductionYear:[null],carPlate:[null],accountNumber:[null],bankName:[null],bankRoutingNumber:[null],bankSwift:[null],address:[null],mediaId:[null],enabledServices:[null,s.kI.required]}),this.root=D.N.root,this.genders=Object.values(p.Y0t),this.gender=p.Y0t,this.camelCase=w.eV,this.jwt=localStorage.getItem("beninfy_admin_token"),this.loadingUpload=!1,this.beforeUpload=(z,E)=>new ee.y(y=>{var J;const X="image/jpeg"===z.type||"image/png"===z.type;if(!X)return this.msg.error("You can only upload JPG file!"),void y.complete();const K=(null!==(J=z.size)&&void 0!==J?J:0)/1024/1024<2;if(!K)return this.msg.error("Image must smaller than 2MB!"),void y.complete();y.next(X&&K),y.complete()})}ngOnInit(){var n,t;this.query=null===(n=this.route.parent)||void 0===n?void 0:n.data.pipe((0,g.U)(o=>o.driver)),this.subscription=null===(t=this.route.parent)||void 0===t?void 0:t.data.subscribe(o=>{var l;o.driver.data.driver.enabledServices=o.driver.data.driver.enabledServices.map(m=>m.id),this.form.patchValue(o.driver.data.driver),this.avatarUrl=null===(l=o.driver.data.driver.media)||void 0===l?void 0:l.address})}ngOnDestroy(){var n;null===(n=this.subscription)||void 0===n||n.unsubscribe()}onSubmit(){return(0,T.mG)(this,void 0,void 0,function*(){const n=this.form.value,{id:t,enabledServices:l}=n,m=(0,T._T)(n,["id","mobileNumber","enabledServices"]);console.log(l),yield(0,P.z)(this.updateGQL.mutate({id:t,update:m,serviceIds:l})),this.routerHelper.refresh(this.route)})}handleServiceCheckChange(n,t){n?this.form.value.enabledServices.indexOf(t.id)<0&&(this.form.value.enabledServices.push(t.id),this.form.patchValue({enabledServices:this.form.value.enabledServices})):this.form.patchValue({enabledServices:this.form.value.enabledServices.filter(o=>o==t.id)})}handleUploadChange(n){switch(n.file.status){case"uploading":break;case"done":this.form.patchValue({mediaId:n.file.response.id}),this.avatarUrl=n.file.response.address;break;case"error":this.msg.error("Network error")}}}return r.\u0275fac=function(n){return new(n||r)(e.Y36(d.gz),e.Y36(L.dD),e.Y36(p.CL7),e.Y36(U.b),e.Y36(s.qu))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-driver-profile-details"]],decls:2,vars:3,consts:[["nz-form","","nzLayout","vertical",3,"formGroup","ngSubmit",4,"ngIf"],["nz-form","","nzLayout","vertical",3,"formGroup","ngSubmit"],["formControlName","id","type","hidden","hidden",""],["formControlName","mediaId","type","hidden","hidden",""],["formControlName","enabledServices","type","hidden","hidden",""],[1,"lg:grid","lg:grid-cols-4","lg:gap-2"],["nzRequired","","nzFor","firstName"],["nz-input","","required","","formControlName","firstName","id","firstName"],["nzRequired","","nzFor","lastName"],["nz-input","","required","","formControlName","lastName","id","lastName"],["nzFor","gender"],["formControlName","gender","id","gender"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nzRequired","","nzFor","mobileNumber"],["required","","formControlName","mobileNumber","id","mobileNumber"],["nzFor","email"],["nz-input","","formControlName","email","id","email"],["nzFor","fleet"],["id","fleet","formControlName","fleetId"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["nzFor","carId"],["id","carId","formControlName","carId"],["nzFor","carColorId"],["id","carColorId","formControlName","carColorId"],["nzFor","carProductionYear"],["formControlName","carProductionYear","id","carProductionYear"],["nzFor","carPlate"],["nz-input","","formControlName","carPlate","id","carPlate"],["nzFor","accountNumber"],["nz-input","","formControlName","accountNumber","id","accountNumber"],["nzFor","bankName"],["nz-input","","formControlName","bankName","id","bankName"],["nzFor","bankRoutingNumber"],["nz-input","","formControlName","bankRoutingNumber","id","bankRoutingNumber"],["nzFor","bankSwift"],["nz-input","","formControlName","bankSwift","id","bankSwift"],["nzFor","address"],["nz-input","","formControlName","address","id","address"],[1,"lg:col-span-4"],["nzRequired",""],["nzMode","checkable",3,"nzChecked","nzCheckedChange",4,"ngFor","ngForOf"],["nzListType","picture-card",3,"nzAction","nzHeaders","nzBeforeUpload","nzShowUploadList","nzChange"],[4,"ngIf"],["style","width: 100%",3,"src",4,"ngIf"],["nz-button","","nzType","primary","type","submit",3,"disabled"],[3,"nzLabel","nzValue"],[3,"nzValue","nzLabel"],["nzMode","checkable",3,"nzChecked","nzCheckedChange"],["nz-icon","",1,"upload-icon",3,"nzType"],[1,"ant-upload-text"],[2,"width","100%",3,"src"]],template:function(n,t){if(1&n&&(e.YNc(0,ue,99,21,"form",0),e.ALo(1,"async")),2&n){let o;e.Q6J("ngIf",null==(o=e.lcZ(1,1,t.query))?null:o.data)}},directives:[c.O5,s._Y,s.JL,f.Lr,s.sg,s.Fj,s.JJ,s.u,h.SK,f.Nx,h.t3,f.iK,f.Fd,I.Zp,s.Q7,A.Vq,c.sg,Y._,ne.FY,F.ix,N.dQ,O.w,A.Ip,q.j,R.Ls],pipes:[c.Ov,v.X$],styles:["nz-input-number[_ngcontent-%COMP%]{width:100%}"]}),r})();function de(r,a){if(1&r&&(e.TgZ(0,"div"),e.TgZ(1,"a",2),e._UZ(2,"img",3),e.qZA(),e.qZA()),2&r){const n=a.$implicit,t=e.oxw(2);e.xp6(1),e.s9C("href",t.root+n,e.LSH),e.xp6(1),e.s9C("src",t.root+n,e.LSH)}}function pe(r,a){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,de,3,2,"div",1),e.qZA()),2&r){const n=a.ngIf;e.xp6(1),e.Q6J("ngForOf",n)}}let fe=(()=>{class r{constructor(n){this.route=n,this.root=D.N.root}ngOnInit(){this.query=this.route.data.pipe((0,g.U)(n=>n.driver))}}return r.\u0275fac=function(n){return new(n||r)(e.Y36(d.gz))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-driver-profile-documents"]],decls:2,vars:3,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],["target","_blank",3,"href"],[2,"width","90%","margin","10px",3,"src"]],template:function(n,t){if(1&n&&(e.YNc(0,pe,2,1,"div",0),e.ALo(1,"async")),2&n){let o;e.Q6J("ngIf",null==(o=e.lcZ(1,1,t.query))||null==o.data||null==o.data.driver?null:o.data.driver.documents)}},directives:[c.O5,c.sg],pipes:[c.Ov],styles:[""]}),r})();var b=i(3266),_=i(9827),u=i(7336),S=i(8466),x=i(8614);function ge(r,a){if(1&r&&(e.TgZ(0,"a",9),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r){const n=e.oxw().$implicit;e.Q6J("routerLink","/requests/view/"+n.requestId),e.xp6(1),e.Oqu(e.lcZ(2,2,"table.viewRequest"))}}function _e(r,a){if(1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"td",7),e.ALo(2,"date"),e._uU(3),e.ALo(4,"timeago"),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td",5),e._uU(8),e.qZA(),e.TgZ(9,"td"),e.YNc(10,ge,3,4,"a",8),e.qZA(),e.qZA()),2&r){const n=a.$implicit;e.xp6(1),e.Q6J("nz-tooltip",e.xi3(2,5,n.reviewTimestamp,"short")),e.xp6(2),e.Oqu(e.lcZ(4,8,n.reviewTimestamp)),e.xp6(3),e.hij("",n.score,"%"),e.xp6(2),e.Oqu(n.description),e.xp6(2),e.Q6J("ngIf",null!==n.requestId)}}function Ze(r,a){if(1&r){const n=e.EpF();e.TgZ(0,"nz-table",1,2),e.NdJ("nzQueryParams",function(){return e.CHM(n),e.oxw().tableService.onTableQueryParamsChange}),e.TgZ(2,"thead"),e.TgZ(3,"tr"),e.TgZ(4,"th",3),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"th",4),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th",5),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(16,"tbody"),e.YNc(17,_e,11,10,"tr",6),e.qZA(),e.qZA()}if(2&r){const n=a.ngIf,t=e.MAs(1);e.Q6J("nzFrontPagination",!1)("nzData",n.nodes),e.xp6(5),e.Oqu(e.lcZ(6,7,"profile.dateTime")),e.xp6(3),e.Oqu(e.lcZ(9,9,"profile.rating")),e.xp6(3),e.Oqu(e.lcZ(12,11,"profile.review")),e.xp6(3),e.Oqu(e.lcZ(15,13,"profile.actions")),e.xp6(3),e.Q6J("ngForOf",t.data)}}let ze=(()=>{class r{constructor(n,t,o){this.tagColor=n,this.route=t,this.tableService=o}ngOnInit(){this.query=this.route.data.pipe((0,g.U)(n=>n.feedbacks))}}return r.\u0275fac=function(n){return new(n||r)(e.Y36(b.k),e.Y36(d.gz),e.Y36(_.w))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-driver-profile-feedbacks"]],decls:2,vars:3,consts:[["nzShowSizeChanger","","nzBordered","",3,"nzFrontPagination","nzData","nzQueryParams",4,"ngIf"],["nzShowSizeChanger","","nzBordered","",3,"nzFrontPagination","nzData","nzQueryParams"],["table",""],["nzShowSort","","nzColumnKey","reviewTimestamp"],["nzShowSort","","nzColumnKey","score"],[1,"hidden","md:table-cell"],[4,"ngFor","ngForOf"],[3,"nz-tooltip"],[3,"routerLink",4,"ngIf"],[3,"routerLink"]],template:function(n,t){if(1&n&&(e.YNc(0,Ze,18,15,"nz-table",0),e.ALo(1,"async")),2&n){let o;e.Q6J("ngIf",null==(o=e.lcZ(1,1,t.query))||null==o.data?null:o.data.feedbacks)}},directives:[c.O5,u.N8,u.Om,u.$Z,u.Uo,u._C,u.qD,u.p0,c.sg,S.SY,d.yS],pipes:[c.Ov,v.X$,c.uU,x.wr],encapsulation:2}),r})(),M=(()=>{class r{constructor(n,t){this.gql=n,this.tableService=t}resolve(n,t){var o;const l=this.tableService.deserializeQueryParams(n.queryParams);return this.gql.fetch({id:null===(o=n.parent)||void 0===o?void 0:o.params.id,paging:l.paging})}}return r.\u0275fac=function(n){return new(n||r)(e.LFG(p.FH4),e.LFG(_.w))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();var j=i(1646);function ve(r,a){if(1&r&&(e.TgZ(0,"nz-tag",30),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r){const n=e.oxw().$implicit,t=e.oxw(2);e.Q6J("nzColor",t.tagColor.getTransactionStatusStatusColor(n.status)),e.xp6(1),e.Oqu(e.lcZ(2,2,"enum.transactionStatus."+n.status))}}function Te(r,a){if(1&r&&(e.TgZ(0,"a",31),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r){const n=e.oxw().$implicit;e.Q6J("routerLink","/management/users/view/"+n.operatorId),e.xp6(1),e.Oqu(e.lcZ(2,2,"table.viewOperator"))}}function he(r,a){if(1&r&&(e.TgZ(0,"a",31),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r){const n=e.oxw().$implicit;e.Q6J("routerLink","/management/payment-gateways/view/"+n.paymentGatewayId),e.xp6(1),e.Oqu(e.lcZ(2,2,"table.viewGateway"))}}function Ae(r,a){if(1&r&&(e.TgZ(0,"a",31),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r){const n=e.oxw().$implicit;e.Q6J("routerLink","/requests/view/"+n.requestId),e.xp6(1),e.Oqu(e.lcZ(2,2,"table.viewRequest"))}}function qe(r,a){if(1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"td",26),e.ALo(2,"date"),e._uU(3),e.ALo(4,"timeago"),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.ALo(7,"translate"),e.ALo(8,"translate"),e.YNc(9,ve,3,4,"nz-tag",27),e.qZA(),e.TgZ(10,"td",28),e._uU(11),e.ALo(12,"currency"),e.qZA(),e.TgZ(13,"td",23),e._uU(14),e.qZA(),e.TgZ(15,"td",24),e._uU(16),e.qZA(),e.TgZ(17,"td"),e.YNc(18,Te,3,4,"a",29),e.YNc(19,he,3,4,"a",29),e.YNc(20,Ae,3,4,"a",29),e.qZA(),e.qZA()),2&r){const n=a.$implicit;e.xp6(1),e.Q6J("nz-tooltip",e.xi3(2,12,n.createdAt,"short")),e.xp6(2),e.Oqu(e.lcZ(4,15,n.createdAt)),e.xp6(3),e.hij("","Deduct"===n.action?e.lcZ(7,17,"enum.transactionType."+n.deductType):e.lcZ(8,19,"enum.transactionType."+n.rechargeType)," "),e.xp6(3),e.Q6J("ngIf","Done"!=n.status),e.xp6(1),e.Q6J("ngClass","Recharge"===n.action?"text-green-500":"text-red-500"),e.xp6(1),e.AsE("","Recharge"===n.action?"+":"","",e.xi3(12,21,n.amount,n.currency),""),e.xp6(3),e.Oqu(n.refrenceNumber),e.xp6(2),e.Oqu(n.description),e.xp6(2),e.Q6J("ngIf",null!==n.operatorId),e.xp6(1),e.Q6J("ngIf",null!==n.paymentGatewayId),e.xp6(1),e.Q6J("ngIf",null!==n.requestId)}}function be(r,a){if(1&r){const n=e.EpF();e.TgZ(0,"nz-table",20,21),e.NdJ("nzQueryParams",function(o){return e.CHM(n),e.oxw().tableService.onTableQueryParamsChange(o)}),e.TgZ(2,"thead"),e.TgZ(3,"tr"),e.TgZ(4,"th",22),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"th"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th",23),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th",24),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(22,"tbody"),e.YNc(23,qe,21,24,"tr",25),e.qZA(),e.qZA()}if(2&r){const n=a.ngIf,t=e.MAs(1);e.Q6J("nzFrontPagination",!1)("nzData",n.nodes)("nzTotal",n.totalCount),e.xp6(4),e.Q6J("nzSortFn",!0),e.xp6(1),e.hij(" ",e.lcZ(6,11,"profile.dateTime")," "),e.xp6(3),e.hij(" ",e.lcZ(9,13,"profile.transactionType")," "),e.xp6(3),e.hij(" ",e.lcZ(12,15,"profile.amount")," "),e.xp6(3),e.hij(" ",e.lcZ(15,17,"profile.documentNumber")," "),e.xp6(3),e.hij(" ",e.lcZ(18,19,"profile.details")," "),e.xp6(3),e.Oqu(e.lcZ(21,21,"profile.actions")),e.xp6(3),e.Q6J("ngForOf",t.data)}}function xe(r,a){if(1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.ALo(3,"currency"),e.qZA(),e.qZA()),2&r){const n=a.$implicit;e.xp6(2),e.Oqu(e.xi3(3,1,n.balance,n.currency))}}function Ce(r,a){if(1&r&&(e.TgZ(0,"nz-table",32,33),e.TgZ(2,"thead"),e.TgZ(3,"tr"),e.TgZ(4,"th"),e._uU(5,"Amount"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"tbody"),e.YNc(7,xe,4,4,"tr",25),e.qZA(),e.qZA()),2&r){const n=a.ngIf,t=e.MAs(1);e.Q6J("nzData",n)("nzTotal",n.length),e.xp6(7),e.Q6J("ngForOf",t.data)}}function ye(r,a){1&r&&e._UZ(0,"div")}function De(r,a){if(1&r&&(e._UZ(0,"nz-option",35),e.ALo(1,"translate")),2&r){const n=a.$implicit;e.Q6J("nzLabel",e.lcZ(1,2,"enum.transactionType."+n))("nzValue",n)}}function Pe(r,a){if(1&r&&(e.TgZ(0,"nz-form-item"),e.TgZ(1,"nz-form-label"),e._uU(2,"Recharge Type"),e.qZA(),e.TgZ(3,"nz-form-control"),e.TgZ(4,"nz-select",34),e.YNc(5,De,2,4,"nz-option",14),e.qZA(),e.qZA(),e.qZA()),2&r){const n=e.oxw();e.xp6(5),e.Q6J("ngForOf",n.rechargeTypes)}}function Le(r,a){if(1&r&&(e._UZ(0,"nz-option",35),e.ALo(1,"translate")),2&r){const n=a.$implicit;e.Q6J("nzLabel",e.lcZ(1,2,"enum.transactionType."+n))("nzValue",n)}}function Ue(r,a){if(1&r&&(e.TgZ(0,"nz-form-item"),e.TgZ(1,"nz-form-label"),e._uU(2,"Deduct Type"),e.qZA(),e.TgZ(3,"nz-form-control"),e.TgZ(4,"nz-select",36),e.YNc(5,Le,2,4,"nz-option",14),e.qZA(),e.qZA(),e.qZA()),2&r){const n=e.oxw();e.xp6(5),e.Q6J("ngForOf",n.deductTypes)}}function Fe(r,a){if(1&r&&e._UZ(0,"nz-option",35),2&r){const n=a.$implicit;e.Q6J("nzLabel",n.currency)("nzValue",n.currency)}}let Ne=(()=>{class r{constructor(n,t,o,l,m,z,E){this.route=n,this.tableService=t,this.tagColor=o,this.fb=l,this.createTransactionGQL=m,this.routerHelper=z,this.msg=E,this.formTransaction=this.fb.group({action:[null,s.kI.required],rechargeType:[null],deductType:[null],amount:[0,s.kI.required],currency:[null,s.kI.required],description:[null],refrenceNumber:[null]}),this.deductTypes=Object.values(p.TFb),this.rechargeTypes=Object.values(p.Q8e)}ngOnInit(){this.query=this.route.data.pipe((0,g.U)(n=>n.financials))}onSubmitTransaction(){var n;return(0,T.mG)(this,void 0,void 0,function*(){if("Recharge"!=this.formTransaction.value.action||null!=this.formTransaction.value.rechargeType)if("Deduct"!=this.formTransaction.value.action||null!=this.formTransaction.value.deductType){this.formTransaction.value.driverId=null===(n=this.route.parent)||void 0===n?void 0:n.snapshot.params.id;try{yield(0,P.z)(this.createTransactionGQL.mutate({input:this.formTransaction.value})),this.msg.success("Transaction Submitted."),this.routerHelper.refresh(this.route),this.formTransaction.patchValue({})}catch(t){console.log(t),this.msg.error(t.message)}}else this.msg.error("Please select the transaction type.");else this.msg.error("Please select the transaction type.")})}getUniquieCurrencies(n){return null==n?[]:[...new Set(n)]}}return r.\u0275fac=function(n){return new(n||r)(e.Y36(d.gz),e.Y36(_.w),e.Y36(b.k),e.Y36(s.qu),e.Y36(p.nAg),e.Y36(U.b),e.Y36(L.dD))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-driver-profile-financial"]],decls:44,vars:20,consts:[["fxLayout","row","fxLayoutGap","4px",1,"dt-actionbar"],["nzTitle","Transactions Records","nzShowSizeChanger","","nzBordered","",3,"nzFrontPagination","nzData","nzTotal","nzQueryParams",4,"ngIf"],["nzTitle","Wallet Summary","nzBordered","","class","mt-2",3,"nzFrontPagination","nzData","nzTotal",4,"ngIf"],[1,"mt-2",3,"nzTitle"],["nz-form","",3,"formGroup","ngSubmit"],[1,"lg:grid","lg:grid-cols-2","lg:gap-2"],["nzRequired",""],["formControlName","action","nzRequired",""],["nzLabel","Deduct","nzValue","Deduct"],["nzLabel","Recharge","nzValue","Recharge"],[4,"ngIf"],["nzRequired","","nzFor","amount"],["formControlName","amount","id","amount","required","",1,"w-full"],["formControlName","currency","id","currency","required",""],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nzFor","refrenceNumber"],["nz-input","","formControlName","refrenceNumber","id","refrenceNumber"],["nzFor","description"],["nz-input","","formControlName","description","id","description"],["nz-button","","nzType","primary","type","submit",1,"float-right","mt-2",3,"disabled"],["nzTitle","Transactions Records","nzShowSizeChanger","","nzBordered","",3,"nzFrontPagination","nzData","nzTotal","nzQueryParams"],["table",""],["nzColumnKey","createdAt",3,"nzSortFn"],[1,"hidden","lg:table-cell"],[1,"hidden","xl:table-cell"],[4,"ngFor","ngForOf"],[3,"nz-tooltip"],[3,"nzColor",4,"ngIf"],[3,"ngClass"],[3,"routerLink",4,"ngIf"],[3,"nzColor"],[3,"routerLink"],["nzTitle","Wallet Summary","nzBordered","",1,"mt-2",3,"nzFrontPagination","nzData","nzTotal"],["walletTable",""],["formControlName","rechargeType"],[3,"nzLabel","nzValue"],["formControlName","deductType"]],template:function(n,t){if(1&n&&(e._UZ(0,"div",0),e.YNc(1,be,24,23,"nz-table",1),e.ALo(2,"async"),e.YNc(3,Ce,8,3,"nz-table",2),e.ALo(4,"async"),e.TgZ(5,"nz-card",3),e.ALo(6,"translate"),e.TgZ(7,"form",4),e.NdJ("ngSubmit",function(){return t.onSubmitTransaction()}),e.TgZ(8,"div",5),e.TgZ(9,"nz-form-item"),e.TgZ(10,"nz-form-label",6),e._uU(11,"Type"),e.qZA(),e.TgZ(12,"nz-form-control"),e.TgZ(13,"nz-select",7),e._UZ(14,"nz-option",8),e._UZ(15,"nz-option",9),e.qZA(),e.qZA(),e.qZA(),e.YNc(16,ye,1,0,"div",10),e.YNc(17,Pe,6,1,"nz-form-item",10),e.YNc(18,Ue,6,1,"nz-form-item",10),e.TgZ(19,"nz-form-item"),e.TgZ(20,"nz-form-label",11),e._uU(21,"Amount"),e.qZA(),e.TgZ(22,"nz-form-control"),e._UZ(23,"nz-input-number",12),e.qZA(),e.qZA(),e.TgZ(24,"nz-form-item"),e.TgZ(25,"nz-form-label",6),e._uU(26,"Currency"),e.qZA(),e.TgZ(27,"nz-form-control"),e.TgZ(28,"nz-select",13),e.YNc(29,Fe,1,2,"nz-option",14),e.ALo(30,"async"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(31,"nz-form-item"),e.TgZ(32,"nz-form-label",15),e._uU(33,"Document Number"),e.qZA(),e.TgZ(34,"nz-form-control"),e._UZ(35,"input",16),e.qZA(),e.qZA(),e.TgZ(36,"nz-form-item"),e.TgZ(37,"nz-form-label",17),e._uU(38,"Description"),e.qZA(),e.TgZ(39,"nz-form-control"),e._UZ(40,"input",18),e.qZA(),e.qZA(),e.qZA(),e.TgZ(41,"button",19),e._uU(42),e.ALo(43,"translate"),e.qZA(),e.qZA(),e.qZA()),2&n){let o,l,m;e.xp6(1),e.Q6J("ngIf",null==(o=e.lcZ(2,10,t.query))||null==o.data||null==o.data.driver?null:o.data.driver.transactions),e.xp6(2),e.Q6J("ngIf",null==(l=e.lcZ(4,12,t.query))||null==l.data||null==l.data.driver?null:l.data.driver.wallets),e.xp6(2),e.s9C("nzTitle",e.lcZ(6,14,"profile.insertTransaction")),e.xp6(2),e.Q6J("formGroup",t.formTransaction),e.xp6(9),e.Q6J("ngIf",null===t.formTransaction.value.action),e.xp6(1),e.Q6J("ngIf","Recharge"===t.formTransaction.value.action),e.xp6(1),e.Q6J("ngIf","Deduct"===t.formTransaction.value.action),e.xp6(11),e.Q6J("ngForOf",t.getUniquieCurrencies(null==(m=e.lcZ(30,16,t.query))||null==m.data||null==m.data.regions?null:m.data.regions.nodes)),e.xp6(12),e.Q6J("disabled",!t.formTransaction.valid),e.xp6(1),e.Oqu(e.lcZ(43,18,"profile.submit"))}},directives:[c.O5,j.bd,s._Y,s.JL,f.Lr,s.sg,h.SK,f.Nx,h.t3,f.iK,f.Fd,A.Vq,s.JJ,s.u,A.Ip,Y._,s.Q7,c.sg,I.Zp,s.Fj,F.ix,N.dQ,O.w,u.N8,u.Om,u.$Z,u.Uo,u._C,u.qD,u.p0,S.SY,c.mk,q.j,d.yS],pipes:[c.Ov,v.X$,c.uU,x.wr,c.H9],encapsulation:2}),r})(),G=(()=>{class r{constructor(n,t){this.gql=n,this.tableService=t}resolve(n,t){var o;const l=this.tableService.deserializeQueryParams(n.queryParams);return this.gql.fetch(Object.assign({id:null===(o=n.parent)||void 0===o?void 0:o.params.id},l))}}return r.\u0275fac=function(n){return new(n||r)(e.LFG(p.Zdg),e.LFG(_.w))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();function Oe(r,a){if(1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"td",6),e.ALo(2,"date"),e._uU(3),e.ALo(4,"timeago"),e.qZA(),e.TgZ(5,"td",4),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.ALo(9,"currency"),e.qZA(),e.TgZ(10,"td"),e.TgZ(11,"nz-tag",7),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.qZA(),e.TgZ(14,"td"),e.TgZ(15,"a",8),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.qZA(),e.qZA()),2&r){const n=a.$implicit,t=e.oxw(2);e.xp6(1),e.Q6J("nz-tooltip",e.xi3(2,8,n.createdOn,"short")),e.xp6(2),e.Oqu(e.lcZ(4,11,n.createdOn)),e.xp6(3),e.Oqu(n.addresses[0]),e.xp6(2),e.Oqu(e.xi3(9,13,n.costAfterCoupon,n.currency)),e.xp6(3),e.Q6J("nzColor",t.tagColor.orderStatus(n.status)),e.xp6(1),e.Oqu(e.lcZ(13,16,"enum.request."+n.status)),e.xp6(3),e.Q6J("routerLink","/requests/view/"+n.id),e.xp6(1),e.Oqu(e.lcZ(17,18,"profile.view"))}}function Se(r,a){if(1&r){const n=e.EpF();e.TgZ(0,"nz-table",1,2),e.NdJ("nzQueryParams",function(o){return e.CHM(n),e.oxw().tableService.onTableQueryParamsChange(o)}),e.TgZ(2,"thead"),e.TgZ(3,"tr"),e.TgZ(4,"th",3),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"th",4),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"tbody"),e.YNc(20,Oe,18,20,"tr",5),e.qZA(),e.qZA()}if(2&r){const n=a.ngIf,t=e.MAs(1);e.Q6J("nzFrontPagination",!1)("nzData",n),e.xp6(4),e.Q6J("nzSortFn",!0),e.xp6(1),e.hij(" ",e.lcZ(6,9,"profile.dateTime")," "),e.xp6(3),e.hij(" ",e.lcZ(9,11,"profile.locations")," "),e.xp6(3),e.hij(" ",e.lcZ(12,13,"profile.cost")," "),e.xp6(3),e.hij(" ",e.lcZ(15,15,"profile.status")," "),e.xp6(3),e.Oqu(e.lcZ(18,17,"profile.actions")),e.xp6(3),e.Q6J("ngForOf",t.data)}}let Qe=(()=>{class r{constructor(n,t,o){this.route=n,this.tagColor=t,this.tableService=o,this.statuses=Object.keys(p.iFo).map(l=>({text:l,value:l}))}ngOnInit(){this.query=this.route.data.pipe((0,g.U)(n=>n.orders))}}return r.\u0275fac=function(n){return new(n||r)(e.Y36(d.gz),e.Y36(b.k),e.Y36(_.w))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-driver-profile-orders"]],decls:2,vars:3,consts:[["nzShowSizeChanger","","class","mt-4","nzBordered","",3,"nzFrontPagination","nzData","nzQueryParams",4,"ngIf"],["nzShowSizeChanger","","nzBordered","",1,"mt-4",3,"nzFrontPagination","nzData","nzQueryParams"],["table",""],["nzColumnKey","createdOn",3,"nzSortFn"],[1,"hidden","lg:table-cell"],[4,"ngFor","ngForOf"],[3,"nz-tooltip"],[3,"nzColor"],[3,"routerLink"]],template:function(n,t){if(1&n&&(e.YNc(0,Se,21,19,"nz-table",0),e.ALo(1,"async")),2&n){let o;e.Q6J("ngIf",null==(o=e.lcZ(1,1,t.query))||null==o.data||null==o.data.driver||null==o.data.driver.orders?null:o.data.driver.orders.nodes)}},directives:[c.O5,u.N8,u.Om,u.$Z,u.Uo,u._C,u.qD,u.p0,c.sg,S.SY,q.j,d.yS],pipes:[c.Ov,v.X$,c.uU,x.wr,c.H9],encapsulation:2}),r})(),H=(()=>{class r{constructor(n,t){this.gql=n,this.tableService=t}resolve(n,t){var o;const l=this.tableService.deserializeQueryParams(n.queryParams);return this.gql.fetch(Object.assign({driverId:null===(o=n.parent)||void 0===o?void 0:o.params.id},l))}}return r.\u0275fac=function(n){return new(n||r)(e.LFG(p.Bho),e.LFG(_.w))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();var Z=i(1740),Je=i(7948),Q=i(285),$=i(863),V=i(5882),C=i(2553);function ke(r,a){if(1&r&&(e.TgZ(0,"nz-descriptions-item",9),e.ALo(1,"translate"),e._uU(2),e.ALo(3,"timeago"),e.qZA()),2&r){const n=e.oxw().ngIf;e.Q6J("nzTitle",e.lcZ(1,2,"driver.profile.lastSeenAt")),e.xp6(2),e.Oqu(e.lcZ(3,4,n.lastSeenTimestamp)||"-")}}function we(r,a){1&r&&(e.TgZ(0,"a",17),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"driver.profile.details")))}function Ie(r,a){1&r&&(e.TgZ(0,"a",18),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"driver.profile.orders")))}function Ye(r,a){1&r&&(e.TgZ(0,"a",19),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"driver.profile.financials")))}function Re(r,a){1&r&&(e.TgZ(0,"a",20),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"driver.profile.reviews")))}function Me(r,a){1&r&&(e.TgZ(0,"a",21),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"driver.profile.documents")))}function je(r,a){if(1&r){const n=e.EpF();e.TgZ(0,"nz-page-header"),e.TgZ(1,"nz-page-header-title"),e._UZ(2,"nz-avatar",1),e._uU(3),e.qZA(),e.TgZ(4,"nz-page-header-tags"),e.TgZ(5,"nz-tag",2),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.qZA(),e.TgZ(8,"nz-page-header-extra"),e.TgZ(9,"button",3),e._uU(10),e.ALo(11,"translate"),e._UZ(12,"i",4),e.qZA(),e.TgZ(13,"nz-dropdown-menu",null,5),e.TgZ(15,"ul",6),e.TgZ(16,"li",7),e.NdJ("click",function(){e.CHM(n);const o=e.oxw();return o.changeStatus(o.driverStatus.PendingApproval)}),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"li",7),e.NdJ("click",function(){e.CHM(n);const o=e.oxw();return o.changeStatus(o.driverStatus.Offline)}),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"li",7),e.NdJ("click",function(){e.CHM(n);const o=e.oxw();return o.changeStatus(o.driverStatus.Blocked)}),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"li",7),e.NdJ("click",function(){e.CHM(n);const o=e.oxw();return o.changeStatus(o.driverStatus.SoftReject)}),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"li",7),e.NdJ("click",function(){e.CHM(n);const o=e.oxw();return o.changeStatus(o.driverStatus.HardReject)}),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"li",7),e.NdJ("click",function(){e.CHM(n);const o=e.oxw();return o.changeStatus(o.driverStatus.Offline)}),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"li",7),e.NdJ("click",function(){e.CHM(n);const o=e.oxw();return o.changeStatus(o.driverStatus.WaitingDocuments)}),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"li",8),e.NdJ("click",function(){e.CHM(n);const o=e.oxw();return o.changeStatus(o.driverStatus.InService)}),e._uU(38),e.ALo(39,"translate"),e.qZA(),e.TgZ(40,"li",8),e.NdJ("click",function(){e.CHM(n);const o=e.oxw();return o.changeStatus(o.driverStatus.Online)}),e._uU(41),e.ALo(42,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(43,"nz-page-header-content"),e.TgZ(44,"nz-descriptions"),e.TgZ(45,"nz-descriptions-item",9),e.ALo(46,"translate"),e._uU(47),e.ALo(48,"timeago"),e.qZA(),e.YNc(49,ke,4,6,"nz-descriptions-item",10),e.TgZ(50,"nz-descriptions-item",9),e.ALo(51,"translate"),e._uU(52),e.qZA(),e.qZA(),e.qZA(),e.TgZ(53,"nz-page-header-footer"),e.TgZ(54,"nz-tabset",11),e.TgZ(55,"nz-tab"),e.YNc(56,we,3,3,"a",12),e.qZA(),e.TgZ(57,"nz-tab"),e.YNc(58,Ie,3,3,"a",13),e.qZA(),e.TgZ(59,"nz-tab"),e.YNc(60,Ye,3,3,"a",14),e.qZA(),e.TgZ(61,"nz-tab"),e.YNc(62,Re,3,3,"a",15),e.qZA(),e.TgZ(63,"nz-tab"),e.YNc(64,Me,3,3,"a",16),e.qZA(),e.qZA(),e._UZ(65,"router-outlet"),e.qZA(),e.qZA()}if(2&r){const n=a.ngIf,t=e.MAs(14),o=e.oxw();e.xp6(2),e.Q6J("nzSrc",null!=n.media&&n.media.address?o.root+(null==n.media?null:n.media.address):void 0),e.xp6(1),e.AsE("",n.firstName," ",n.lastName," "),e.xp6(2),e.Q6J("nzColor",o.tagColor.driver(n.status)),e.xp6(1),e.Oqu(e.lcZ(7,22,"enum.driver.status."+o.toCamelCase(n.status))),e.xp6(3),e.Q6J("nzDropdownMenu",t),e.xp6(1),e.hij(" ",e.lcZ(11,24,"driver.profile.changeStatus")," "),e.xp6(7),e.Oqu(e.lcZ(18,26,"enum.driver.status.pendingApproval")),e.xp6(3),e.hij("",e.lcZ(21,28,"enum.driver.status.approved")," "),e.xp6(3),e.Oqu(e.lcZ(24,30,"enum.driver.status.blocked")),e.xp6(3),e.Oqu(e.lcZ(27,32,"enum.driver.status.softReject")),e.xp6(3),e.Oqu(e.lcZ(30,34,"enum.driver.status.hardReject")),e.xp6(3),e.Oqu(e.lcZ(33,36,"enum.driver.status.offline")),e.xp6(3),e.Oqu(e.lcZ(36,38,"enum.driver.status.waitingDocuments")),e.xp6(3),e.Oqu(e.lcZ(39,40,"enum.driver.status.inService")),e.xp6(3),e.Oqu(e.lcZ(42,42,"enum.driver.status.online")),e.xp6(4),e.Q6J("nzTitle",e.lcZ(46,44,"profile.registeredOn")),e.xp6(2),e.Oqu(e.lcZ(48,46,n.registrationTimestamp)),e.xp6(2),e.Q6J("ngIf","Online"!==n.status),e.xp6(1),e.Q6J("nzTitle",e.lcZ(51,48,"driver.profile.rating")),e.xp6(2),e.Oqu(null!==n.rating?n.rating+"%("+n.reviewCount+" reviews)":"N/A"),e.xp6(2),e.Q6J("nzLinkExact",!1)}}let Ge=(()=>{class r{constructor(n,t,o,l,m){this.route=n,this.tagColor=t,this.message=o,this.updateGQL=l,this.routerHelper=m,this.driverStatus=p.K$m,this.root=D.N.root,this.toCamelCase=w.eV}ngOnInit(){this.query=this.route.data.pipe((0,g.U)(n=>n.driver))}changeStatus(n){var t;return(0,T.mG)(this,void 0,void 0,function*(){const o=null!==(t=this.route.snapshot.params.id)&&void 0!==t?t:0;yield(0,P.z)(this.updateGQL.mutate({id:o,status:n})),this.routerHelper.refresh(this.route)})}}return r.\u0275fac=function(n){return new(n||r)(e.Y36(d.gz),e.Y36(b.k),e.Y36(L.dD),e.Y36(p.hQu),e.Y36(U.b))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-driver-profile"]],decls:3,vars:3,consts:[[4,"ngIf"],["nzIcon","user",3,"nzSrc"],[3,"nzColor"],["nz-button","","nz-dropdown","",3,"nzDropdownMenu"],["nz-icon","","nzType","down"],["menu4","nzDropdownMenu"],["nz-menu",""],["nz-menu-item","",3,"click"],["nz-menu-item","","hidden","",3,"click"],[3,"nzTitle"],[3,"nzTitle",4,"ngIf"],["nzLinkRouter","",1,"mb-2",3,"nzLinkExact"],["nz-tab-link","","routerLink","details",4,"nzTabLink"],["nz-tab-link","","routerLink","orders",4,"nzTabLink"],["nz-tab-link","","routerLink","financial",4,"nzTabLink"],["nz-tab-link","","routerLink","reviews",4,"nzTabLink"],["nz-tab-link","","routerLink","documents",4,"nzTabLink"],["nz-tab-link","","routerLink","details"],["nz-tab-link","","routerLink","orders"],["nz-tab-link","","routerLink","financial"],["nz-tab-link","","routerLink","reviews"],["nz-tab-link","","routerLink","documents"]],template:function(n,t){if(1&n&&(e.TgZ(0,"nz-card"),e.YNc(1,je,66,50,"nz-page-header",0),e.ALo(2,"async"),e.qZA()),2&n){let o;e.xp6(1),e.Q6J("ngIf",null==(o=e.lcZ(2,1,t.query))||null==o.data?null:o.data.driver)}},directives:[j.bd,c.O5,Z.$O,Z.u9,Je.Dz,Z.ZJ,q.j,Z.Jp,F.ix,N.dQ,O.w,Q.wA,Q.cm,R.Ls,Q.RR,$.wO,$.r9,Z.u5,V.R7,V.uj,Z.$,C.xH,C.xw,C.Fx,d.lC,C.Ao,d.yS],pipes:[c.Ov,v.X$,x.wr],encapsulation:2}),r})(),B=(()=>{class r{constructor(n){this.gql=n}resolve(n,t){return this.gql.fetch({id:n.params.id})}}return r.\u0275fac=function(n){return new(n||r)(e.LFG(p.LPf))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();const He=[{path:"",component:Ge,resolve:{driver:B},runGuardsAndResolvers:"paramsOrQueryParamsChange",children:[{path:"",redirectTo:"details"},{path:"details",component:me},{path:"orders",component:Qe,resolve:{orders:H},runGuardsAndResolvers:"paramsOrQueryParamsChange"},{path:"financial",component:Ne,resolve:{financials:G},runGuardsAndResolvers:"paramsOrQueryParamsChange"},{path:"reviews",component:ze,resolve:{feedbacks:M},runGuardsAndResolvers:"paramsOrQueryParamsChange"},{path:"documents",component:fe}]}];let $e=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[B,G,M,H],imports:[[d.Bz.forChild(He)],d.Bz]}),r})(),Ve=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[$e,W.m]]}),r})()}}]);