"use strict";(self.webpackChunkadmin_panel=self.webpackChunkadmin_panel||[]).push([[962],{3962:(P,g,o)=>{o.r(g),o.d(g,{AdminTransactionsModule:()=>I});var _=o(4534),d=o(9826),Z=o(4004),n=o(5e3),A=o(9827),p=o(1740),f=o(4138),h=o(5540),v=o(7036),m=o(285),y=o(9997),T=o(863),c=o(9808),q=o(8177),u=o(3075),s=o(7336),x=o(8466),C=o(1062),L=o(8614);function O(e,r){if(1&e&&(n.TgZ(0,"a",24),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&e){const t=n.oxw().$implicit;n.Q6J("routerLink","/management/users/view/"+t.operatorId),n.xp6(1),n.Oqu(n.lcZ(2,2,"table.viewOperator"))}}function J(e,r){if(1&e&&(n.TgZ(0,"a",24),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&e){const t=n.oxw().$implicit;n.Q6J("routerLink","/requests/view/"+t.requestId),n.xp6(1),n.Oqu(n.lcZ(2,2,"table.viewRequest"))}}function M(e,r){if(1&e&&(n.TgZ(0,"tr"),n.TgZ(1,"td",22),n.ALo(2,"date"),n._uU(3),n.ALo(4,"timeago"),n.qZA(),n.TgZ(5,"td"),n._uU(6),n.ALo(7,"translate"),n.ALo(8,"translate"),n.qZA(),n.TgZ(9,"td"),n._uU(10),n.ALo(11,"currency"),n.qZA(),n.TgZ(12,"td"),n._uU(13),n.qZA(),n.TgZ(14,"td"),n.YNc(15,O,3,4,"a",23),n.YNc(16,J,3,4,"a",23),n.qZA(),n.qZA()),2&e){const t=r.$implicit;n.xp6(1),n.Q6J("nz-tooltip",n.xi3(2,7,t.createdAt,"short")),n.xp6(2),n.Oqu(n.lcZ(4,10,t.createdAt)),n.xp6(3),n.Oqu("Deduct"===t.action?n.lcZ(7,12,"enum.transactionType."+t.deductType):n.lcZ(8,14,"enum.transactionType."+t.rechargeType)),n.xp6(4),n.Oqu(n.xi3(11,16,t.amount,t.currency)),n.xp6(3),n.Oqu(t.description),n.xp6(2),n.Q6J("ngIf",null!==t.operatorId),n.xp6(1),n.Q6J("ngIf",null!==t.requestId)}}function Q(e,r){if(1&e){const t=n.EpF();n.TgZ(0,"nz-table",18,19),n.NdJ("nzQueryParams",function(i){return n.CHM(t),n.oxw(2).tableService.onTableQueryParamsChange(i)}),n.TgZ(2,"thead"),n.TgZ(3,"tr"),n.TgZ(4,"th",20),n._uU(5),n.ALo(6,"translate"),n.qZA(),n.TgZ(7,"th",21),n._uU(8),n.ALo(9,"translate"),n.qZA(),n.TgZ(10,"th"),n._uU(11),n.ALo(12,"translate"),n.qZA(),n.TgZ(13,"th"),n._uU(14),n.ALo(15,"translate"),n.qZA(),n.TgZ(16,"th"),n._uU(17),n.ALo(18,"translate"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(19,"tbody"),n.YNc(20,M,17,19,"tr",17),n.qZA(),n.qZA()}if(2&e){const t=r.ngIf,a=n.MAs(1);n.Q6J("nzFrontPagination",!1)("nzData",t.nodes)("nzTotal",t.totalCount),n.xp6(5),n.Oqu(n.lcZ(6,9,"profile.dateTime")),n.xp6(3),n.Oqu(n.lcZ(9,11,"profile.transactionType")),n.xp6(3),n.Oqu(n.lcZ(12,13,"profile.amount")),n.xp6(3),n.Oqu(n.lcZ(15,15,"profile.details")),n.xp6(3),n.Oqu(n.lcZ(18,17,"profile.actions")),n.xp6(3),n.Q6J("ngForOf",a.data)}}function U(e,r){if(1&e&&(n.TgZ(0,"tr"),n.TgZ(1,"td"),n._uU(2),n.ALo(3,"currency"),n.qZA(),n.qZA()),2&e){const t=r.$implicit;n.xp6(2),n.Oqu(n.xi3(3,1,t.balance,t.currency))}}function b(e,r){if(1&e&&(n.TgZ(0,"nz-page-header-content"),n.YNc(1,Q,21,19,"nz-table",14),n.ALo(2,"async"),n.TgZ(3,"nz-table",15,16),n.TgZ(5,"thead"),n.TgZ(6,"tr"),n.TgZ(7,"th"),n._uU(8),n.ALo(9,"translate"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(10,"tbody"),n.YNc(11,U,4,4,"tr",17),n.qZA(),n.qZA(),n.qZA()),2&e){const t=r.ngIf,a=n.MAs(4),i=n.oxw();let l;n.xp6(1),n.Q6J("ngIf",null==(l=n.lcZ(2,4,i.query))||null==l.data?null:l.data.providerTransactions),n.xp6(2),n.Q6J("nzData",t.providerWallets),n.xp6(5),n.Oqu(n.lcZ(9,6,"profile.total")),n.xp6(3),n.Q6J("ngForOf",a.data)}}let S=(()=>{class e{constructor(t,a){this.route=t,this.tableService=a,this.amountRange=[-1,-1]}ngOnInit(){this.query=this.route.data.pipe((0,Z.U)(t=>t.providerWallet)),this.currencies=this.query.pipe((0,Z.U)(t=>this.distinctCurrency(t.data.regions.nodes).map(a=>({text:a,value:a}))))}exportTo(t){}distinctCurrency(t){return t.map(a=>a.currency).filter((a,i,l)=>l.indexOf(a)===i)}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(d.gz),n.Y36(A.w))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-admin-transactions"]],decls:28,vars:22,consts:[["nzBackIcon","","nzTitle","Provider Wallet","nzSubtitle","List of system provider (you) income of services.",3,"nzGhost"],["nz-button","","nz-dropdown","",3,"nzDropdownMenu"],["nz-icon","","nzType","export"],["nz-icon","","nzType","down"],["menuExport","nzDropdownMenu"],["nz-menu",""],["nz-menu-item","",3,"click"],[4,"ngIf"],["filteramount","nzDropdownMenu"],[1,"ant-table-filter-dropdown"],[1,"search-box"],["nz-input","","type","number",3,"placeholder","ngModel","ngModelChange"],["nz-button","","nzSize","small","nzType","primary",1,"search-button",3,"click"],["nz-button","","nzSize","small",3,"click"],["nzShowSizeChanger","","nzBordered","",3,"nzFrontPagination","nzData","nzTotal","nzQueryParams",4,"ngIf"],["nzBordered","",1,"mt-2",3,"nzData"],["summaryTable",""],[4,"ngFor","ngForOf"],["nzShowSizeChanger","","nzBordered","",3,"nzFrontPagination","nzData","nzTotal","nzQueryParams"],["table",""],["nzShowSort","","nzColumnKey","createdAt"],["nzShowSort","","nzColumnKey","action"],[3,"nz-tooltip"],[3,"routerLink",4,"ngIf"],[3,"routerLink"]],template:function(t,a){if(1&t&&(n.TgZ(0,"nz-page-header",0),n.TgZ(1,"nz-page-header-extra"),n.TgZ(2,"button",1),n._UZ(3,"i",2),n._uU(4),n.ALo(5,"translate"),n._UZ(6,"i",3),n.qZA(),n.TgZ(7,"nz-dropdown-menu",null,4),n.TgZ(9,"ul",5),n.TgZ(10,"li",6),n.NdJ("click",function(){return a.exportTo("csv")}),n._uU(11,"CSV"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.YNc(12,b,12,8,"nz-page-header-content",7),n.ALo(13,"async"),n.qZA(),n.TgZ(14,"nz-dropdown-menu",null,8),n.TgZ(16,"div",9),n.TgZ(17,"div",10),n.TgZ(18,"input",11),n.NdJ("ngModelChange",function(l){return a.amountRange[0]=l}),n.ALo(19,"translate"),n.qZA(),n.TgZ(20,"input",11),n.NdJ("ngModelChange",function(l){return a.amountRange[1]=l}),n.ALo(21,"translate"),n.qZA(),n.TgZ(22,"button",12),n.NdJ("click",function(){return a.tableService.filterRange("balance",a.amountRange)}),n._uU(23),n.ALo(24,"translate"),n.qZA(),n.TgZ(25,"button",13),n.NdJ("click",function(){return a.tableService.filterRange("balance",void 0)}),n._uU(26),n.ALo(27,"translate"),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&t){const i=n.MAs(8);let l;n.Q6J("nzGhost",!1),n.xp6(2),n.Q6J("nzDropdownMenu",i),n.xp6(2),n.hij(" ",n.lcZ(5,10,"profile.export")," "),n.xp6(8),n.Q6J("ngIf",null==(l=n.lcZ(13,12,a.query))?null:l.data),n.xp6(6),n.s9C("placeholder",n.lcZ(19,14,"table.min")),n.Q6J("ngModel",a.amountRange[0]),n.xp6(2),n.s9C("placeholder",n.lcZ(21,16,"table.max")),n.Q6J("ngModel",a.amountRange[1]),n.xp6(3),n.Oqu(n.lcZ(24,18,"profile.search")),n.xp6(3),n.Oqu(n.lcZ(27,20,"profile.reset"))}},directives:[p.$O,p.Jp,f.ix,h.dQ,v.w,m.wA,m.cm,y.Ls,m.RR,T.wO,T.r9,c.O5,q.Zp,u.wV,u.Fj,u.JJ,u.On,p.u5,s.N8,s.Om,s.$Z,s.Uo,s._C,s.p0,c.sg,s.qD,x.SY,d.yS],pipes:[C.X$,c.Ov,c.uU,L.wr,c.H9],encapsulation:2}),e})();var R=o(7157);let z=(()=>{class e{constructor(t,a){this.paging=t,this.gql=a}resolve(t,a){const i=this.paging.deserializeQueryParams(t.queryParams);return this.gql.fetch(i)}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(A.w),n.LFG(R.rL6))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();const w=[{path:"",component:S,resolve:{providerWallet:z},runGuardsAndResolvers:"paramsOrQueryParamsChange"}];let F=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({providers:[z],imports:[[d.Bz.forChild(w)],d.Bz]}),e})(),I=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[F,_.m]]}),e})()}}]);