"use strict";(self.webpackChunkadmin_panel=self.webpackChunkadmin_panel||[]).push([[802],{4802:($,A,r)=>{r.r(A),r.d(A,{RidersModule:()=>E});var L=r(4534),d=r(9826),T=r(655),m=r(3075),q=r(7157),y=r(3905),n=r(5e3),F=r(1731),J=r(8900),p=r(1740),Q=r(1646),z=r(3714),N=r(9095),c=r(8177),v=r(7036),b=r(4471),x=r(4138),C=r(5540);function M(e,i){1&e&&(n.TgZ(0,"nz-select",19),n._UZ(1,"nz-option",20),n.qZA())}function _(e,i){if(1&e){const t=n.EpF();n.TgZ(0,"button",21),n.NdJ("click",function(){return n.CHM(t),n.oxw().submitForm()}),n._uU(1,"Register"),n.qZA()}if(2&e){const t=n.oxw();n.Q6J("disabled",t.form.invalid)}}const U=function(e){return[e]};let O=(()=>{class e{constructor(t,l,o,a,s){this.fb=t,this.createRiderGQL=l,this.messageService=o,this.routerHelper=a,this.route=s,this.form=this.fb.group({firstName:[null],lastName:[null],phoneNumberPrefix:["+1",m.kI.required],phoneNumber:[null,m.kI.required],gender:[null]})}submitForm(){return(0,T.mG)(this,void 0,void 0,function*(){const t=this.form.value,{phoneNumber:l,phoneNumberPrefix:o}=t,a=(0,T._T)(t,["phoneNumber","phoneNumberPrefix"]);yield(0,y.z)(this.createRiderGQL.mutate({input:Object.assign({mobileNumber:`${o}${l}`},a)})),this.messageService.success("Saved Successfully."),this.routerHelper.goToParent(this.route)})}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(m.qu),n.Y36(q.sfd),n.Y36(F.dD),n.Y36(J.b),n.Y36(d.gz))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-rider-new"]],decls:30,vars:22,consts:[["nzBackIcon","","nzTitle","New Rider","nzSubtitle","Input Rider's contact details below.",3,"nzGhost"],[3,"nzActions"],["nz-form","",3,"formGroup","ngSubmit"],["nzRequired","","nzFor","firstName",3,"nzSm","nzXs"],["nzErrorTip","The input is not valid First Name",3,"nzSm","nzXs"],["nz-input","","formControlName","firstName","id","firstName"],["nzRequired","","nzFor","lastName",3,"nzSm","nzXs"],["nzErrorTip","The input is not valid Last Name",3,"nzSm","nzXs"],["nz-input","","formControlName","lastName","id","lastName"],["nzFor","phoneNumber","nzRequired","",3,"nzSm","nzXs"],[3,"nzSm","nzXs"],[3,"nzAddOnBefore"],["addOnBeforeTemplate",""],["formControlName","phoneNumber","id","'phoneNumber'","nz-input",""],["nzFor","gender",3,"nzSm","nzXs"],["formControlName","gender"],["nzLabel","Male","nzValue","Male"],["nzLabel","Female","nzValue","Female"],["tmplActions",""],["formControlName","phoneNumberPrefix",1,"phone-select"],["nzLabel","+1","nzValue","+1"],["nz-button","","nzType","primary",3,"disabled","click"]],template:function(t,l){if(1&t&&(n._UZ(0,"nz-page-header",0),n.TgZ(1,"nz-card",1),n.TgZ(2,"form",2),n.NdJ("ngSubmit",function(){return l.submitForm()}),n.TgZ(3,"nz-form-item"),n.TgZ(4,"nz-form-label",3),n._uU(5,"First Name"),n.qZA(),n.TgZ(6,"nz-form-control",4),n._UZ(7,"input",5),n.qZA(),n.qZA(),n.TgZ(8,"nz-form-item"),n.TgZ(9,"nz-form-label",6),n._uU(10,"Last Name"),n.qZA(),n.TgZ(11,"nz-form-control",7),n._UZ(12,"input",8),n.qZA(),n.qZA(),n.TgZ(13,"nz-form-item"),n.TgZ(14,"nz-form-label",9),n._uU(15,"Phone Number"),n.qZA(),n.TgZ(16,"nz-form-control",10),n.TgZ(17,"nz-input-group",11),n.YNc(18,M,2,0,"ng-template",null,12,n.W1O),n._UZ(20,"input",13),n.qZA(),n.qZA(),n.qZA(),n.TgZ(21,"nz-form-item"),n.TgZ(22,"nz-form-label",14),n._uU(23,"Gender"),n.qZA(),n.TgZ(24,"nz-form-control",10),n.TgZ(25,"nz-select",15),n._UZ(26,"nz-option",16),n._UZ(27,"nz-option",17),n.qZA(),n.qZA(),n.qZA(),n.YNc(28,_,2,1,"ng-template",null,18,n.W1O),n.qZA(),n.qZA()),2&t){const o=n.MAs(19),a=n.MAs(29);n.Q6J("nzGhost",!1),n.xp6(1),n.Q6J("nzActions",n.VKq(20,U,a)),n.xp6(1),n.Q6J("formGroup",l.form),n.xp6(2),n.Q6J("nzSm",6)("nzXs",24),n.xp6(2),n.Q6J("nzSm",14)("nzXs",24),n.xp6(3),n.Q6J("nzSm",6)("nzXs",24),n.xp6(2),n.Q6J("nzSm",14)("nzXs",24),n.xp6(3),n.Q6J("nzSm",6)("nzXs",24),n.xp6(2),n.Q6J("nzSm",14)("nzXs",24),n.xp6(1),n.Q6J("nzAddOnBefore",o),n.xp6(5),n.Q6J("nzSm",6)("nzXs",24),n.xp6(2),n.Q6J("nzSm",14)("nzXs",24)}},directives:[p.$O,Q.bd,m._Y,m.JL,z.Lr,m.sg,N.SK,z.Nx,N.t3,z.iK,z.Fd,c.Zp,m.Fj,m.JJ,m.u,c.gB,v.w,b.Vq,b.Ip,x.ix,C.dQ],encapsulation:2}),e})();var X=r(4004),S=r(1062),P=r(9827),Y=r(9997),Z=r(9808),B=r(285),u=r(7336),I=r(1670);function D(e,i){if(1&e&&(n.TgZ(0,"tr"),n.TgZ(1,"td"),n._uU(2),n.qZA(),n.TgZ(3,"td"),n._uU(4),n.ALo(5,"phone"),n.qZA(),n.TgZ(6,"td"),n.TgZ(7,"a",21),n._uU(8),n.ALo(9,"translate"),n.qZA(),n.qZA(),n.qZA()),2&e){const t=i.$implicit;n.xp6(2),n.AsE("",t.firstName," ",t.lastName,""),n.xp6(2),n.Oqu(n.lcZ(5,5,t.mobileNumber)),n.xp6(3),n.Q6J("routerLink","view/"+t.id),n.xp6(1),n.Oqu(n.lcZ(9,7,"table.details"))}}const G=function(){return[]};function w(e,i){if(1&e){const t=n.EpF();n.TgZ(0,"nz-table",14,15),n.NdJ("nzQueryParams",function(o){return n.CHM(t),n.oxw().tableService.onTableQueryParamsChange(o)}),n.TgZ(2,"thead"),n.TgZ(3,"tr"),n.TgZ(4,"th",16),n._uU(5),n.ALo(6,"translate"),n.TgZ(7,"nz-filter-trigger",17),n.ALo(8,"async"),n._UZ(9,"i",18),n.qZA(),n.qZA(),n.TgZ(10,"th",19),n._uU(11),n.ALo(12,"translate"),n.TgZ(13,"nz-filter-trigger",17),n.ALo(14,"async"),n._UZ(15,"i",18),n.qZA(),n.qZA(),n.TgZ(16,"th"),n._uU(17),n.ALo(18,"translate"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(19,"tbody"),n.YNc(20,D,10,9,"tr",20),n.qZA(),n.qZA()}if(2&e){const t=i.ngIf,l=n.MAs(1),o=n.oxw(),a=n.MAs(10),s=n.MAs(23);let g,f,h;n.Q6J("nzFrontPagination",!1)("nzData",null!==(g=t.nodes)&&void 0!==g?g:n.DdM(23,G))("nzTotal",t.totalCount),n.xp6(4),n.Q6J("nzSortFn",!0),n.xp6(1),n.hij(" ",n.lcZ(6,13,"profile.name")," "),n.xp6(2),n.Q6J("nzActive",null==(f=n.lcZ(8,15,o.route.queryParams))||null==f.filter?null:f.filter.includes("lastName|like|"))("nzDropdownMenu",a),n.xp6(3),n.Q6J("nzSortFn",!0),n.xp6(1),n.hij(" ",n.lcZ(12,17,"profile.mobileNumber")," "),n.xp6(2),n.Q6J("nzActive",null==(h=n.lcZ(14,19,o.route.queryParams))||null==h.filter?null:h.filter.includes("mobileNumber|like|"))("nzDropdownMenu",s),n.xp6(4),n.Oqu(n.lcZ(18,21,"profile.actions")),n.xp6(3),n.Q6J("ngForOf",l.data)}}let H=(()=>{class e{constructor(t,l,o){this.route=t,this.translate=l,this.tableService=o}ngOnInit(){this.query=this.route.data.pipe((0,X.U)(t=>t.riders))}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(d.gz),n.Y36(S.sK),n.Y36(P.w))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-riders-list"]],decls:34,vars:22,consts:[["nzBackIcon","","nzTitle","Riders","nzSubtitle","List of all the clients registered",3,"nzGhost"],["nz-button","","nzType","primary","routerLink","new"],["nz-icon","","nzType","plus"],["nzShowSizeChanger","","nzBordered","",3,"nzFrontPagination","nzData","nzTotal","nzQueryParams",4,"ngIf"],["filtername","nzDropdownMenu"],[1,"ant-table-filter-dropdown"],[1,"search-box"],["nz-input","",3,"placeholder"],["lastNameInput",""],["nz-button","","nzSize","small","nzType","primary",1,"search-button",3,"click"],["nz-button","","nzSize","small",3,"click"],["filtermobile","nzDropdownMenu"],["nz-input","","placeholder","Search Mobile Number"],["mobileNumberInput",""],["nzShowSizeChanger","","nzBordered","",3,"nzFrontPagination","nzData","nzTotal","nzQueryParams"],["table",""],["nzCustomFilter","","nzColumnKey","lastName",3,"nzSortFn"],[3,"nzActive","nzDropdownMenu"],["nz-icon","","nzType","search"],["nzCustomFilter","","nzColumnKey","mobileNumber",3,"nzSortFn"],[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(t,l){if(1&t){const o=n.EpF();n.TgZ(0,"nz-page-header",0),n.TgZ(1,"nz-page-header-extra"),n.TgZ(2,"button",1),n._UZ(3,"i",2),n._uU(4),n.ALo(5,"translate"),n.qZA(),n.qZA(),n.TgZ(6,"nz-page-header-content"),n.YNc(7,w,21,24,"nz-table",3),n.ALo(8,"async"),n.TgZ(9,"nz-dropdown-menu",null,4),n.TgZ(11,"div",5),n.TgZ(12,"div",6),n._UZ(13,"input",7,8),n.ALo(15,"translate"),n.TgZ(16,"button",9),n.NdJ("click",function(){n.CHM(o);const s=n.MAs(14);return l.tableService.filterText("lastName",s.value)}),n._uU(17),n.ALo(18,"translate"),n.qZA(),n.TgZ(19,"button",10),n.NdJ("click",function(){n.CHM(o);const s=n.MAs(14);return l.tableService.resetFilter("lastName",s)}),n._uU(20),n.ALo(21,"translate"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(22,"nz-dropdown-menu",null,11),n.TgZ(24,"div",5),n.TgZ(25,"div",6),n._UZ(26,"input",12,13),n.TgZ(28,"button",9),n.NdJ("click",function(){n.CHM(o);const s=n.MAs(27);return l.tableService.filterText("mobileNumber",s.value)}),n._uU(29),n.ALo(30,"translate"),n.qZA(),n.TgZ(31,"button",10),n.NdJ("click",function(){n.CHM(o);const s=n.MAs(27);return l.tableService.resetFilter("mobileNumber",s)}),n._uU(32),n.ALo(33,"translate"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&t){let o;n.Q6J("nzGhost",!1),n.xp6(4),n.Oqu(n.lcZ(5,8,"profile.add")),n.xp6(3),n.Q6J("ngIf",null==(o=n.lcZ(8,10,l.query))||null==o.data?null:o.data.riders),n.xp6(6),n.s9C("placeholder",n.lcZ(15,12,"profile.lastName")),n.xp6(4),n.hij(" ",n.lcZ(18,14,"profile.search")," "),n.xp6(3),n.Oqu(n.lcZ(21,16,"profile.reset")),n.xp6(9),n.hij(" ",n.lcZ(30,18,"profile.search")," "),n.xp6(3),n.Oqu(n.lcZ(33,20,"profile.reset"))}},directives:[p.$O,p.Jp,x.ix,C.dQ,v.w,d.rH,Y.Ls,p.u5,Z.O5,B.RR,c.Zp,u.N8,u.Om,u.$Z,u.Uo,u._C,u.qD,u.Ql,u.p0,Z.sg,d.yS],pipes:[S.X$,Z.Ov,I.E],encapsulation:2}),e})();var R=r(3881);const j=[{path:"",component:H,resolve:{riders:R.p},runGuardsAndResolvers:"paramsOrQueryParamsChange"},{path:"view/:id",loadChildren:()=>r.e(625).then(r.bind(r,4625)).then(e=>e.RiderViewModule)},{path:"new",component:O}];let V=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({providers:[R.p],imports:[[d.Bz.forChild(j)],d.Bz]}),e})(),E=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({providers:[],imports:[[V,L.m]]}),e})()}}]);